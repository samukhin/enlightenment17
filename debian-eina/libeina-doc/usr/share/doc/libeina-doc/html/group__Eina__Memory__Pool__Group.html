<html>
<head>
    <title>Memory Pool</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="author" content="Andres Blanc" >
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/ico">
    <link rel="shortcut icon" href="img/favicon.png" type="image/ico">
    <link rel="stylesheet" type="text/css" href="e.css">
    <link rel="stylesheet" type="text/css" href="edoxy.css">
</head>
<body>
<div id="container">
<div id="header">
<div class="layout">
    <h1><span>Enlightenment</span></h1>
    <h2><span>Beauty at your fingertips</span></h2>
    <table cellspacing="0" cellpadding="0" width="100%"><tr>
      <td id="header_logo">
        <a href="http://www.enlightenment.org"></a>
      </td>
      <td id="header_menu">
        <table cellspacing="0" cellpadding="0" align="right"><tr>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=home">Home</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=news">News</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=about">About</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=download">Download</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=support">Support</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contribute">Contribute</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contact">Contact</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://trac.enlightenment.org/e">Tracker</a></td>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=docs">Docs</a></td> 
        </tr></table>          
      </td>
      <td id="header_last"></td>
    </tr></table>
    <div class="doxytitle">
        Eina Documentation <small>at Tue Nov 5 2013</small>
    </div>
    <div class="menu-container">
        <div class="submenu">
            <ul class="current">
                <li><a href="files.html">Files</a></li>
                <li><a href="modules.html">Modules</a></li>
                <li><a href="pages.html">Related Pages</a></li>
	        <li class="current"><a  href="index.html">Main Page</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
</div>
</div>
<div id="content">
<div class="layout">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Memory Pool<div class="ingroups"><a class="el" href="group__Eina__Tools__Group.html">Tools</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions provide memory pool management.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8ca45185c6759c6c7b57e7c1b614215a"><td class="memItemLeft" align="right" valign="top"><a id="ga8ca45185c6759c6c7b57e7c1b614215a"></a>
typedef struct _Eina_Mempool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a></td></tr>
<tr class="memdesc:ga8ca45185c6759c6c7b57e7c1b614215a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mempool type. <br /></td></tr>
<tr class="separator:ga8ca45185c6759c6c7b57e7c1b614215a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad1bbde75fe98f5cff269c0411678ff9"><td class="memItemLeft" align="right" valign="top"><a id="gaad1bbde75fe98f5cff269c0411678ff9"></a>
typedef struct _Eina_Mempool_Backend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Memory__Pool__Group.html#gaad1bbde75fe98f5cff269c0411678ff9">Eina_Mempool_Backend</a></td></tr>
<tr class="memdesc:gaad1bbde75fe98f5cff269c0411678ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mempool backend type. <br /></td></tr>
<tr class="separator:gaad1bbde75fe98f5cff269c0411678ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36987f282791adfc0d82c493af4462dc"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Memory__Pool__Group.html#ga36987f282791adfc0d82c493af4462dc">Eina_Mempool_Repack_Cb</a>) (void *dst, void *src, void *data)</td></tr>
<tr class="memdesc:ga36987f282791adfc0d82c493af4462dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for a callback who need to unreference an old object from a mempool and reference the new one instead.  <a href="group__Eina__Memory__Pool__Group.html#ga36987f282791adfc0d82c493af4462dc">More...</a><br /></td></tr>
<tr class="separator:ga36987f282791adfc0d82c493af4462dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad72bac7ce820b2395a9521f51b6896c8"><td class="memItemLeft" align="right" valign="top"><a id="gad72bac7ce820b2395a9521f51b6896c8"></a>
<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_add</b> (const char *module, const char *context, const char *options,...)</td></tr>
<tr class="separator:gad72bac7ce820b2395a9521f51b6896c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08462e7e67031eb416ffab31e9c2a6cc"><td class="memItemLeft" align="right" valign="top"><a id="ga08462e7e67031eb416ffab31e9c2a6cc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_del</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp)</td></tr>
<tr class="separator:ga08462e7e67031eb416ffab31e9c2a6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f15747ff472c6f051299284d64b5983"><td class="memItemLeft" align="right" valign="top"><a id="ga7f15747ff472c6f051299284d64b5983"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_realloc</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp, void *element, unsigned int size)</td></tr>
<tr class="separator:ga7f15747ff472c6f051299284d64b5983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbdb8f387ae2e475f743ca86ef980d08"><td class="memItemLeft" align="right" valign="top"><a id="gabbdb8f387ae2e475f743ca86ef980d08"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_malloc</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp, unsigned int size)</td></tr>
<tr class="separator:gabbdb8f387ae2e475f743ca86ef980d08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab863371d668381f7bca07d6fafcc2fc2"><td class="memItemLeft" align="right" valign="top"><a id="gab863371d668381f7bca07d6fafcc2fc2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_free</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp, void *element)</td></tr>
<tr class="separator:gab863371d668381f7bca07d6fafcc2fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54f212b90f7a16dffd803e38cb9b401e"><td class="memItemLeft" align="right" valign="top"><a id="ga54f212b90f7a16dffd803e38cb9b401e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_repack</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp, <a class="el" href="group__Eina__Memory__Pool__Group.html#ga36987f282791adfc0d82c493af4462dc">Eina_Mempool_Repack_Cb</a> cb, void *data)</td></tr>
<tr class="separator:ga54f212b90f7a16dffd803e38cb9b401e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82e20bb9b578f1430b8446af118afccd"><td class="memItemLeft" align="right" valign="top"><a id="ga82e20bb9b578f1430b8446af118afccd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_gc</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp)</td></tr>
<tr class="separator:ga82e20bb9b578f1430b8446af118afccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86cf0b5dcb42ebbb6e9314dd56916f45"><td class="memItemLeft" align="right" valign="top"><a id="ga86cf0b5dcb42ebbb6e9314dd56916f45"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_statistics</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#ga8ca45185c6759c6c7b57e7c1b614215a">Eina_Mempool</a> *mp)</td></tr>
<tr class="separator:ga86cf0b5dcb42ebbb6e9314dd56916f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae11448767cf8ca94752df0ca1f54221e"><td class="memItemLeft" align="right" valign="top"><a id="gae11448767cf8ca94752df0ca1f54221e"></a>
<a class="el" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_register</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#gaad1bbde75fe98f5cff269c0411678ff9">Eina_Mempool_Backend</a> *be)</td></tr>
<tr class="separator:gae11448767cf8ca94752df0ca1f54221e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e284c95e35391579a77f24581ad3304"><td class="memItemLeft" align="right" valign="top"><a id="ga6e284c95e35391579a77f24581ad3304"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_unregister</b> (<a class="el" href="group__Eina__Memory__Pool__Group.html#gaad1bbde75fe98f5cff269c0411678ff9">Eina_Mempool_Backend</a> *be)</td></tr>
<tr class="separator:ga6e284c95e35391579a77f24581ad3304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga289f3377a603858a58334d354e327f10"><td class="memItemLeft" align="right" valign="top"><a id="ga289f3377a603858a58334d354e327f10"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>eina_mempool_alignof</b> (unsigned int size)</td></tr>
<tr class="separator:ga289f3377a603858a58334d354e327f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gacbc6db834ac68b83684f83e55193be4a"><td class="memItemLeft" align="right" valign="top"><a id="gacbc6db834ac68b83684f83e55193be4a"></a>
<a class="el" href="group__Eina__Error__Group.html#ga95b3cbb33e987e7d92a81ea785001686">Eina_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EINA_ERROR_NOT_MEMPOOL_MODULE</b></td></tr>
<tr class="separator:gacbc6db834ac68b83684f83e55193be4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions provide memory pool management. </p>
<p>Several mempool are available:</p>
<ul>
<li><code>buddy:</code> It uses the <a href="http://en.wikipedia.org/wiki/Buddy_memory_allocation">"buddy
allocator" algorithm</a> but the Eina implementation differs in the sense that the chunk information is not stored on the chunk itself, but on another memory area. This is useful for cases where the memory to manage might be slower to access, or limited (like video memory). </li>
<li><code>chained_pool:</code> It is the default one. It allocates a big chunk of memory with malloc() and split the result in chunks of the requested size that are pushed inside a stack. When requested, it takes this pointer from the stack to give them to whoever wants them. </li>
<li><code>ememoa_fixed</code> and <code>ememoa_unknown:</code> experimental allocators which could be useful when a fixed amount of memory is needed. </li>
<li><code>fixed_bitmap:</code> It allocates with malloc) 32* the requested size and push the pool pointer in an rbtree. To find empty space in a pool, it will just search for the first bit set in an int (32 bits). Then, when a pointer is freed, it will do a search inside the rbtree. </li>
<li><code>pass_through:</code> it just call malloc() and free(). It may be faster on some computers than using our own allocators (like having a huge L2 cache, over 4MB). </li>
<li><code>one_big:</code> It call just one time malloc for the requested number of items. Useful when you know in advance how many object of some type will live during the life of the mempool. </li>
</ul>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga36987f282791adfc0d82c493af4462dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36987f282791adfc0d82c493af4462dc">&#9670;&nbsp;</a></span>Eina_Mempool_Repack_Cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eina_Mempool_Repack_Cb</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for a callback who need to unreference an old object from a mempool and reference the new one instead. </p>
<p>Memcpy is taken care by the mempool. </p>

</div>
</div>
</div><!-- contents -->
 
 <div id="push"></div>
 </div> <!-- #content -->
  </div> <!-- .layout -->
 </div> <!-- #container -->
  <div id="footer">
    <table><tr>
      <td class="poweredby"><img src="doxygen.png"></td>
      <td>Samsung Electronics is supporting the EFL Documentation Project</td>
      <td class="copyright">Copyright &copy;2013 Enlightenment</td>
      <td class="generated">Docs generated Tue Nov 5 2013 19:12:59</td>
    </tr></table>
  </div>
</body>
</html>

<html>
<head>
    <title>eina_tiler_01.c</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="author" content="Andres Blanc" >
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/ico">
    <link rel="shortcut icon" href="img/favicon.png" type="image/ico">
    <link rel="stylesheet" type="text/css" href="e.css">
    <link rel="stylesheet" type="text/css" href="edoxy.css">
</head>
<body>
<div id="container">
<div id="header">
<div class="layout">
    <h1><span>Enlightenment</span></h1>
    <h2><span>Beauty at your fingertips</span></h2>
    <table cellspacing="0" cellpadding="0" width="100%"><tr>
      <td id="header_logo">
        <a href="http://www.enlightenment.org"></a>
      </td>
      <td id="header_menu">
        <table cellspacing="0" cellpadding="0" align="right"><tr>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=home">Home</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=news">News</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=about">About</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=download">Download</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=support">Support</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contribute">Contribute</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contact">Contact</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://trac.enlightenment.org/e">Tracker</a></td>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=docs">Docs</a></td> 
        </tr></table>          
      </td>
      <td id="header_last"></td>
    </tr></table>
    <div class="doxytitle">
        Eina Documentation <small>at Tue Nov 5 2013</small>
    </div>
    <div class="menu-container">
        <div class="submenu">
            <ul class="current">
                <li><a href="files.html">Files</a></li>
                <li><a href="modules.html">Modules</a></li>
                <li><a href="pages.html">Related Pages</a></li>
	        <li class="current"><a  href="index.html">Main Page</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
</div>
</div>
<div id="content">
<div class="layout">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">eina_tiler_01.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//Compile with:</span></div>
<div class="line"><span class="comment">//gcc eina_tiler_01.c -o eina_tiler_01 `pkg-config --cflags --libs ecore-evas ecore evas eina`</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Ecore_Evas.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Ecore.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Evas.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Eina_8h.html">Eina.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define WINDOW_PAD (20)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Tiler__Group.html#gabcc29c8a2b66db646e0d6e4b1828954c">Eina_Tiler</a> *tiler;</div>
<div class="line"><span class="keyword">static</span> <a name="_a0"></a><a class="code" href="struct__Eina__Rectangle.html">Eina_Rectangle</a> *input_rects;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> input_count;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> input_idx = 0, input_color_idx = 0, output_color_idx = 0;</div>
<div class="line"><span class="keyword">static</span> <a name="_a1"></a><a class="code" href="struct__Eina__List.html">Eina_List</a> *output_objs = NULL;</div>
<div class="line"><span class="keyword">static</span> Evas_Coord maxw, maxh, winw, winh;</div>
<div class="line"><span class="keyword">static</span> Evas *evas;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>color {</div>
<div class="line">   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> r, g, b;</div>
<div class="line">} colors[] = {</div>
<div class="line">  {255, 0, 0},</div>
<div class="line">  {0, 255, 0},</div>
<div class="line">  {0, 0, 255},</div>
<div class="line"> </div>
<div class="line">  {255, 128, 0},</div>
<div class="line">  {0, 255, 128},</div>
<div class="line">  {128, 0, 255},</div>
<div class="line"> </div>
<div class="line">  {255, 255, 0},</div>
<div class="line">  {0, 255, 255},</div>
<div class="line">  {255, 0, 255},</div>
<div class="line"> </div>
<div class="line">  {255, 0, 128},</div>
<div class="line">  {128, 255, 0},</div>
<div class="line">  {0, 128, 255},</div>
<div class="line"> </div>
<div class="line">  {128, 128, 0},</div>
<div class="line">  {0, 128, 128},</div>
<div class="line">  {128, 0, 128},</div>
<div class="line"> </div>
<div class="line">  {128, 0, 0},</div>
<div class="line">  {0, 128, 0},</div>
<div class="line">  {0, 0, 128},</div>
<div class="line"> </div>
<div class="line">  {255, 128, 0},</div>
<div class="line">  {0, 255, 128},</div>
<div class="line">  {128, 0, 255},</div>
<div class="line"> </div>
<div class="line">  {64, 64, 0},</div>
<div class="line">  {0, 64, 64},</div>
<div class="line">  {64, 0, 64},</div>
<div class="line"> </div>
<div class="line">  {128, 128, 0},</div>
<div class="line">  {0, 128, 128},</div>
<div class="line">  {128, 0, 128},</div>
<div class="line"> </div>
<div class="line">  {255, 0, 128},</div>
<div class="line">  {128, 255, 0},</div>
<div class="line">  {0, 128, 255},</div>
<div class="line"> </div>
<div class="line">  {128, 64, 0},</div>
<div class="line">  {0, 128, 64},</div>
<div class="line">  {64, 0, 128},</div>
<div class="line"> </div>
<div class="line">  {128, 0, 64},</div>
<div class="line">  {64, 128, 0},</div>
<div class="line">  {0, 64, 128}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_COLORS (sizeof(colors) / sizeof(colors[0]))</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">add_text(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w)</div>
<div class="line">{</div>
<div class="line">   Evas_Object *o = evas_object_text_add(evas);</div>
<div class="line">   evas_object_color_set(o, 0, 0, 0, 255);</div>
<div class="line">   evas_object_move(o, x, y);</div>
<div class="line">   evas_object_resize(o, w, WINDOW_PAD);</div>
<div class="line">   evas_object_text_font_set(o, <span class="stringliteral">&quot;Sans&quot;</span>, 10);</div>
<div class="line">   evas_object_text_text_set(o, text);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">output_rects_reset(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   Evas_Object *o;</div>
<div class="line">   <a name="a2"></a><a class="code" href="group__Eina__List__Group.html#gae27a2c686a0a11693f9b06957c9bba83">EINA_LIST_FREE</a>(output_objs, o)</div>
<div class="line">     evas_object_del(o);</div>
<div class="line">   output_color_idx = 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">add_input_rect(<span class="keyword">const</span> <a class="code" href="struct__Eina__Rectangle.html">Eina_Rectangle</a> *r)</div>
<div class="line">{</div>
<div class="line">   Evas_Object *o;</div>
<div class="line">   Evas_Coord bx, by;</div>
<div class="line"> </div>
<div class="line">   bx = WINDOW_PAD;</div>
<div class="line">   by = WINDOW_PAD;</div>
<div class="line"> </div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line"><span class="preprocessor">#define C(comp) (((int)colors[input_color_idx].comp * 128) / 255)</span></div>
<div class="line">   evas_object_color_set(o, C(r), C(g), C(b), 128);</div>
<div class="line"><span class="preprocessor">#undef C</span></div>
<div class="line">   evas_object_move(o, r-&gt;<a name="a3"></a><a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + bx, r-&gt;<a name="a4"></a><a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + by);</div>
<div class="line">   evas_object_resize(o, r-&gt;<a name="a5"></a><a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, r-&gt;<a name="a6"></a><a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   input_color_idx = (input_color_idx + 1) % MAX_COLORS;</div>
<div class="line"> </div>
<div class="line">   bx += maxw + WINDOW_PAD;</div>
<div class="line"> </div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 32, 32, 32, 128);</div>
<div class="line">   evas_object_move(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + bx, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + by);</div>
<div class="line">   evas_object_resize(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, 1);</div>
<div class="line">   evas_object_layer_set(o, EVAS_LAYER_MAX);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 32, 32, 32, 128);</div>
<div class="line">   evas_object_move(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + bx, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + by);</div>
<div class="line">   evas_object_resize(o, 1, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>);</div>
<div class="line">   evas_object_layer_set(o, EVAS_LAYER_MAX);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 32, 32, 32, 128);</div>
<div class="line">   evas_object_move(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + bx, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + by + r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>);</div>
<div class="line">   evas_object_resize(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, 1);</div>
<div class="line">   evas_object_layer_set(o, EVAS_LAYER_MAX);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 32, 32, 32, 128);</div>
<div class="line">   evas_object_move(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + bx + r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + by);</div>
<div class="line">   evas_object_resize(o, 1, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>);</div>
<div class="line">   evas_object_layer_set(o, EVAS_LAYER_MAX);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">add_output_rect(<span class="keyword">const</span> <a class="code" href="struct__Eina__Rectangle.html">Eina_Rectangle</a> *r)</div>
<div class="line">{</div>
<div class="line">   Evas_Object *o = evas_object_rectangle_add(evas);</div>
<div class="line"><span class="preprocessor">#define C(comp) (((int)colors[output_color_idx].comp * 128) / 255)</span></div>
<div class="line">   evas_object_color_set(o, C(r), C(g), C(b), 128);</div>
<div class="line"><span class="preprocessor">#undef C</span></div>
<div class="line">   evas_object_move(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + maxw + 2 * WINDOW_PAD, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + WINDOW_PAD);</div>
<div class="line">   evas_object_resize(o, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   output_color_idx = (output_color_idx + 1) % MAX_COLORS;</div>
<div class="line"> </div>
<div class="line">   output_objs = <a name="a7"></a><a class="code" href="group__Eina__List__Group.html#ga92ec14d1a1040a361c4d8cd0ab7b0ecc">eina_list_append</a>(output_objs, o);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div>
<div class="line">process_input(<span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">   <a name="_a8"></a><a class="code" href="struct__Eina__Iterator.html">Eina_Iterator</a> *itr;</div>
<div class="line">   <a class="code" href="struct__Eina__Rectangle.html">Eina_Rectangle</a> r, *r1;</div>
<div class="line">   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> out = 0;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (input_idx == input_count)</div>
<div class="line">     {</div>
<div class="line">        add_text(<span class="stringliteral">&quot;Done. Close the window to exit&quot;</span>,</div>
<div class="line">                 WINDOW_PAD, winh - WINDOW_PAD, winw - 2 * WINDOW_PAD);</div>
<div class="line">        <span class="keywordflow">return</span> <a name="a9"></a><a class="code" href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a>;</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   output_rects_reset();</div>
<div class="line"> </div>
<div class="line">   r = input_rects[input_idx];</div>
<div class="line">   printf(<span class="stringliteral">&quot;Iteration #%u: %dx%d%+d%+d\n&quot;</span>, input_idx, r.<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, r.<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>, r.<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a>, r.<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a>);</div>
<div class="line">   input_idx++;</div>
<div class="line">   add_input_rect(&amp;r);</div>
<div class="line"> </div>
<div class="line">   <a name="a10"></a><a class="code" href="group__Eina__Tiler__Group.html#ga5a7eaf8984afbd801794bb17b8a1b4c4">eina_tiler_rect_add</a>(tiler, &amp;r);</div>
<div class="line">   itr = <a name="a11"></a><a class="code" href="group__Eina__Tiler__Group.html#ga4cf2a6df653219c8e9cb7fbcf0c40954">eina_tiler_iterator_new</a>(tiler);</div>
<div class="line">   <a name="a12"></a><a class="code" href="group__Eina__Iterator__Group.html#gac7314580e18868ef229f5d2814562794">EINA_ITERATOR_FOREACH</a>(itr, r1)</div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tOutput #%u: %dx%d%+d%+d\n&quot;</span>, out, r1-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>, r1-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>, r1-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a>, r1-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a>);</div>
<div class="line">        add_output_rect(r1);</div>
<div class="line">        out++;</div>
<div class="line">     }</div>
<div class="line">   <a name="a13"></a><a class="code" href="group__Eina__Iterator__Group.html#gaf9261991a4b05dc63e3401278a3281f8">eina_iterator_free</a>(itr);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <a name="a14"></a><a class="code" href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">usage(<span class="keyword">const</span> <span class="keywordtype">char</span> *progname)</div>
<div class="line">{</div>
<div class="line">   fprintf(stderr,</div>
<div class="line">           <span class="stringliteral">&quot;Usage:\n\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\t%s &lt;rect1&gt; ... &lt;rectN&gt;\n\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;with rectangles being in the format:\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\tWIDTHxHEIGHT&lt;+-&gt;X&lt;+-&gt;Y\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;examples:\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\t100x100+10+10 - width=100, height=100 at x=10, y=10\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\t150x50+5+6    - width=150, height=50 at x=5, y=6\n&quot;</span>,</div>
<div class="line">           progname);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">   Ecore_Evas *ee;</div>
<div class="line">   Evas_Object *o;</div>
<div class="line">   <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (argc &lt; 2)</div>
<div class="line">     {</div>
<div class="line">        usage(argv[0]);</div>
<div class="line">        <span class="keywordflow">return</span> -2;</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   input_rects = calloc(argc - 1, <span class="keyword">sizeof</span>(<a class="code" href="struct__Eina__Rectangle.html">Eina_Rectangle</a>));</div>
<div class="line">   input_count = 0;</div>
<div class="line">   maxw = 0;</div>
<div class="line">   maxh = 0;</div>
<div class="line">   <span class="keywordflow">for</span> (i = 1; i &lt; argc; i++)</div>
<div class="line">     {</div>
<div class="line">        <a class="code" href="struct__Eina__Rectangle.html">Eina_Rectangle</a> *r = input_rects + input_count;</div>
<div class="line">        <span class="keywordtype">char</span> sx, sy;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (sscanf(argv[i], <span class="stringliteral">&quot;%dx%d%c%d%c%d&quot;</span>,</div>
<div class="line">                   &amp;(r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>), &amp;(r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>), &amp;sx, &amp;(r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a>), &amp;sy, &amp;(r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a>)) == 6)</div>
<div class="line">          {</div>
<div class="line">             <span class="keywordflow">if</span> (sx == <span class="charliteral">&#39;-&#39;</span>) r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> *= -1;</div>
<div class="line">             <span class="keywordflow">if</span> (sy == <span class="charliteral">&#39;-&#39;</span>) r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> *= -1;</div>
<div class="line"> </div>
<div class="line">             <span class="keywordflow">if</span> (maxw &lt; r-&gt;x + r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>) maxw = r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">x</a> + r-&gt;<a class="code" href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">w</a>;</div>
<div class="line">             <span class="keywordflow">if</span> (maxh &lt; r-&gt;y + r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>) maxh = r-&gt;<a class="code" href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">y</a> + r-&gt;<a class="code" href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">h</a>;</div>
<div class="line">             input_count++;</div>
<div class="line">          }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">          fprintf(stderr, <span class="stringliteral">&quot;ERROR: invalid rectangle ignored: %s\n&quot;</span>, argv[i]);</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (input_count == 0)</div>
<div class="line">     {</div>
<div class="line">        fputs(<span class="stringliteral">&quot;ERROR: Could not find any valid rectangle. Exit!\n&quot;</span>, stderr);</div>
<div class="line">        usage(argv[0]);</div>
<div class="line">        free(input_rects);</div>
<div class="line">        <span class="keywordflow">return</span> -3;</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> ((maxw == 0) || (maxh == 0))</div>
<div class="line">     {</div>
<div class="line">        fputs(<span class="stringliteral">&quot;ERROR: All rectangles with size 0x0. Exit!\n&quot;</span>, stderr);</div>
<div class="line">        usage(argv[0]);</div>
<div class="line">        free(input_rects);</div>
<div class="line">        <span class="keywordflow">return</span> -3;</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   ecore_evas_init();</div>
<div class="line">   ecore_init();</div>
<div class="line">   evas_init();</div>
<div class="line">   <a name="a15"></a><a class="code" href="group__Eina__Main__Group.html#gafee4bfc0e509b6ffed6598edf6f4b3de">eina_init</a>();</div>
<div class="line"> </div>
<div class="line">   winw = 2 * maxw + 3 * WINDOW_PAD;</div>
<div class="line">   winh = maxh + 2 * WINDOW_PAD;</div>
<div class="line"> </div>
<div class="line">   ee = ecore_evas_new(NULL, 0, 0, winw, winh, NULL);</div>
<div class="line">   <span class="keywordflow">if</span> (!ee)</div>
<div class="line">     {</div>
<div class="line">        fputs(<span class="stringliteral">&quot;ERROR: Could not create window. Check ecore-evas install.\n&quot;</span>,</div>
<div class="line">              stderr);</div>
<div class="line">        <span class="keywordflow">goto</span> end;</div>
<div class="line">     }</div>
<div class="line"> </div>
<div class="line">   evas = ecore_evas_get(ee);</div>
<div class="line"> </div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 255, 255, 255, 255);</div>
<div class="line">   evas_object_resize(o, winw, winh);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   add_text(<span class="stringliteral">&quot;Input&quot;</span>, WINDOW_PAD, 0, maxw);</div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 200, 200, 200, 255);</div>
<div class="line">   evas_object_move(o, WINDOW_PAD, WINDOW_PAD);</div>
<div class="line">   evas_object_resize(o, maxw, maxh);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   add_text(<span class="stringliteral">&quot;Output&quot;</span>, maxw + 2 * WINDOW_PAD, 0, maxw);</div>
<div class="line">   o = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(o, 200, 200, 200, 255);</div>
<div class="line">   evas_object_move(o, maxw + 2 * WINDOW_PAD, WINDOW_PAD);</div>
<div class="line">   evas_object_resize(o, maxw, maxh);</div>
<div class="line">   evas_object_show(o);</div>
<div class="line"> </div>
<div class="line">   tiler = <a name="a16"></a><a class="code" href="group__Eina__Tiler__Group.html#gaec465d28aa8f533db01e41cbf27aa3c9">eina_tiler_new</a>(maxw, maxh);</div>
<div class="line">   ecore_timer_add(2.0, process_input, NULL);</div>
<div class="line"> </div>
<div class="line">   ecore_evas_show(ee);</div>
<div class="line">   ecore_main_loop_begin();</div>
<div class="line"> </div>
<div class="line">   <a name="a17"></a><a class="code" href="group__Eina__List__Group.html#ga608bd2fbf06293a1b794648990703ab4">eina_list_free</a>(output_objs);</div>
<div class="line">   <a name="a18"></a><a class="code" href="group__Eina__Tiler__Group.html#ga73fe7b688f448084d2aa2afb37c76217">eina_tiler_free</a>(tiler);</div>
<div class="line">   ecore_evas_free(ee);</div>
<div class="line"> </div>
<div class="line"> end:</div>
<div class="line">   free(input_rects);</div>
<div class="line"> </div>
<div class="line">   <a name="a19"></a><a class="code" href="group__Eina__Main__Group.html#ga2c8b4020427108a30c44707af22c99d3">eina_shutdown</a>();</div>
<div class="line">   evas_shutdown();</div>
<div class="line">   ecore_shutdown();</div>
<div class="line">   ecore_evas_shutdown();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aEina_8h_html"><div class="ttname"><a href="Eina_8h.html">Eina.h</a></div><div class="ttdoc">Eina Utility library.</div></div>
<div class="ttc" id="agroup__Eina__Iterator__Group_html_gac7314580e18868ef229f5d2814562794"><div class="ttname"><a href="group__Eina__Iterator__Group.html#gac7314580e18868ef229f5d2814562794">EINA_ITERATOR_FOREACH</a></div><div class="ttdeci">#define EINA_ITERATOR_FOREACH(itr, data)</div><div class="ttdoc">Macro to iterate over all elements easily.</div><div class="ttdef"><b>Definition:</b> eina_iterator.h:332</div></div>
<div class="ttc" id="agroup__Eina__Iterator__Group_html_gaf9261991a4b05dc63e3401278a3281f8"><div class="ttname"><a href="group__Eina__Iterator__Group.html#gaf9261991a4b05dc63e3401278a3281f8">eina_iterator_free</a></div><div class="ttdeci">void eina_iterator_free(Eina_Iterator *iterator)</div><div class="ttdoc">Free an iterator.</div><div class="ttdef"><b>Definition:</b> eina_iterator.c:96</div></div>
<div class="ttc" id="agroup__Eina__List__Group_html_ga608bd2fbf06293a1b794648990703ab4"><div class="ttname"><a href="group__Eina__List__Group.html#ga608bd2fbf06293a1b794648990703ab4">eina_list_free</a></div><div class="ttdeci">Eina_List * eina_list_free(Eina_List *list)</div><div class="ttdoc">Free an entire list and all the nodes, ignoring the data contained.</div><div class="ttdef"><b>Definition:</b> eina_list.c:754</div></div>
<div class="ttc" id="agroup__Eina__List__Group_html_ga92ec14d1a1040a361c4d8cd0ab7b0ecc"><div class="ttname"><a href="group__Eina__List__Group.html#ga92ec14d1a1040a361c4d8cd0ab7b0ecc">eina_list_append</a></div><div class="ttdeci">Eina_List * eina_list_append(Eina_List *list, const void *data)</div><div class="ttdoc">Append the given data to the given linked list.</div><div class="ttdef"><b>Definition:</b> eina_list.c:530</div></div>
<div class="ttc" id="agroup__Eina__List__Group_html_gae27a2c686a0a11693f9b06957c9bba83"><div class="ttname"><a href="group__Eina__List__Group.html#gae27a2c686a0a11693f9b06957c9bba83">EINA_LIST_FREE</a></div><div class="ttdeci">#define EINA_LIST_FREE(list, data)</div><div class="ttdoc">Macro to remove each list node while having access to each node's data.</div><div class="ttdef"><b>Definition:</b> eina_list.h:1609</div></div>
<div class="ttc" id="agroup__Eina__Main__Group_html_ga2c8b4020427108a30c44707af22c99d3"><div class="ttname"><a href="group__Eina__Main__Group.html#ga2c8b4020427108a30c44707af22c99d3">eina_shutdown</a></div><div class="ttdeci">int eina_shutdown(void)</div><div class="ttdoc">Shut down the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:315</div></div>
<div class="ttc" id="agroup__Eina__Main__Group_html_gafee4bfc0e509b6ffed6598edf6f4b3de"><div class="ttname"><a href="group__Eina__Main__Group.html#gafee4bfc0e509b6ffed6598edf6f4b3de">eina_init</a></div><div class="ttdeci">int eina_init(void)</div><div class="ttdoc">Initialize the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:244</div></div>
<div class="ttc" id="agroup__Eina__Tiler__Group_html_ga4cf2a6df653219c8e9cb7fbcf0c40954"><div class="ttname"><a href="group__Eina__Tiler__Group.html#ga4cf2a6df653219c8e9cb7fbcf0c40954">eina_tiler_iterator_new</a></div><div class="ttdeci">Eina_Iterator * eina_tiler_iterator_new(const Eina_Tiler *t)</div><div class="ttdoc">Create a iterator to access the tilers calculated rectangles.</div><div class="ttdef"><b>Definition:</b> eina_tiler.c:1219</div></div>
<div class="ttc" id="agroup__Eina__Tiler__Group_html_ga5a7eaf8984afbd801794bb17b8a1b4c4"><div class="ttname"><a href="group__Eina__Tiler__Group.html#ga5a7eaf8984afbd801794bb17b8a1b4c4">eina_tiler_rect_add</a></div><div class="ttdeci">Eina_Bool eina_tiler_rect_add(Eina_Tiler *t, const Eina_Rectangle *r)</div><div class="ttdoc">Adds a rectangle to a tiler.</div><div class="ttdef"><b>Definition:</b> eina_tiler.c:1172</div></div>
<div class="ttc" id="agroup__Eina__Tiler__Group_html_ga73fe7b688f448084d2aa2afb37c76217"><div class="ttname"><a href="group__Eina__Tiler__Group.html#ga73fe7b688f448084d2aa2afb37c76217">eina_tiler_free</a></div><div class="ttdeci">void eina_tiler_free(Eina_Tiler *t)</div><div class="ttdoc">Frees a tiler.</div><div class="ttdef"><b>Definition:</b> eina_tiler.c:1150</div></div>
<div class="ttc" id="agroup__Eina__Tiler__Group_html_gabcc29c8a2b66db646e0d6e4b1828954c"><div class="ttname"><a href="group__Eina__Tiler__Group.html#gabcc29c8a2b66db646e0d6e4b1828954c">Eina_Tiler</a></div><div class="ttdeci">struct _Eina_Tiler Eina_Tiler</div><div class="ttdoc">Tiler type.</div><div class="ttdef"><b>Definition:</b> eina_tiler.h:154</div></div>
<div class="ttc" id="agroup__Eina__Tiler__Group_html_gaec465d28aa8f533db01e41cbf27aa3c9"><div class="ttname"><a href="group__Eina__Tiler__Group.html#gaec465d28aa8f533db01e41cbf27aa3c9">eina_tiler_new</a></div><div class="ttdeci">Eina_Tiler * eina_tiler_new(int w, int h)</div><div class="ttdoc">Creates a new tiler with w width and h height.</div><div class="ttdef"><b>Definition:</b> eina_tiler.c:1132</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga05c12dacc8b4058994df842b41be85fc"><div class="ttname"><a href="group__Eina__Types__Group.html#ga05c12dacc8b4058994df842b41be85fc">EINA_TRUE</a></div><div class="ttdeci">#define EINA_TRUE</div><div class="ttdoc">boolean value TRUE (numerical value 1)</div><div class="ttdef"><b>Definition:</b> eina_types.h:299</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga1feb115f8e9913e806e090d9bd5a7301"><div class="ttname"><a href="group__Eina__Types__Group.html#ga1feb115f8e9913e806e090d9bd5a7301">EINA_FALSE</a></div><div class="ttdeci">#define EINA_FALSE</div><div class="ttdoc">boolean value FALSE (numerical value 0)</div><div class="ttdef"><b>Definition:</b> eina_types.h:293</div></div>
<div class="ttc" id="agroup__Eina__Types__Group_html_ga3fe0caf72e93b1bab1ca8ee3ccf3f226"><div class="ttname"><a href="group__Eina__Types__Group.html#ga3fe0caf72e93b1bab1ca8ee3ccf3f226">Eina_Bool</a></div><div class="ttdeci">unsigned char Eina_Bool</div><div class="ttdoc">Type to mimic a boolean.</div><div class="ttdef"><b>Definition:</b> eina_types.h:287</div></div>
<div class="ttc" id="astruct__Eina__Iterator_html"><div class="ttname"><a href="struct__Eina__Iterator.html">_Eina_Iterator</a></div><div class="ttdoc">structure of an iterator</div><div class="ttdef"><b>Definition:</b> eina_iterator.h:159</div></div>
<div class="ttc" id="astruct__Eina__List_html"><div class="ttname"><a href="struct__Eina__List.html">_Eina_List</a></div><div class="ttdoc">Type for a generic double linked list.</div><div class="ttdef"><b>Definition:</b> eina_list.h:321</div></div>
<div class="ttc" id="astruct__Eina__Rectangle_html"><div class="ttname"><a href="struct__Eina__Rectangle.html">_Eina_Rectangle</a></div><div class="ttdef"><b>Definition:</b> eina_rectangle.h:47</div></div>
<div class="ttc" id="astruct__Eina__Rectangle_html_a7570ed17f58fc94be997414a86130074"><div class="ttname"><a href="struct__Eina__Rectangle.html#a7570ed17f58fc94be997414a86130074">_Eina_Rectangle::h</a></div><div class="ttdeci">int h</div><div class="ttdoc">height of rectangle</div><div class="ttdef"><b>Definition:</b> eina_rectangle.h:51</div></div>
<div class="ttc" id="astruct__Eina__Rectangle_html_a8358c0791dcf476432687510ca4e5d5c"><div class="ttname"><a href="struct__Eina__Rectangle.html#a8358c0791dcf476432687510ca4e5d5c">_Eina_Rectangle::x</a></div><div class="ttdeci">int x</div><div class="ttdoc">top-left x co-ordinate of rectangle</div><div class="ttdef"><b>Definition:</b> eina_rectangle.h:48</div></div>
<div class="ttc" id="astruct__Eina__Rectangle_html_ae74dc834fb71a1f4cd9e3fe11dec3940"><div class="ttname"><a href="struct__Eina__Rectangle.html#ae74dc834fb71a1f4cd9e3fe11dec3940">_Eina_Rectangle::y</a></div><div class="ttdeci">int y</div><div class="ttdoc">top-left y co-ordinate of rectangle</div><div class="ttdef"><b>Definition:</b> eina_rectangle.h:49</div></div>
<div class="ttc" id="astruct__Eina__Rectangle_html_af6a92d51ec25ee3464c81297ffc3a330"><div class="ttname"><a href="struct__Eina__Rectangle.html#af6a92d51ec25ee3464c81297ffc3a330">_Eina_Rectangle::w</a></div><div class="ttdeci">int w</div><div class="ttdoc">width of rectangle</div><div class="ttdef"><b>Definition:</b> eina_rectangle.h:50</div></div>
</div><!-- fragment --> </div><!-- contents -->
 
 <div id="push"></div>
 </div> <!-- #content -->
  </div> <!-- .layout -->
 </div> <!-- #container -->
  <div id="footer">
    <table><tr>
      <td class="poweredby"><img src="doxygen.png"></td>
      <td>Samsung Electronics is supporting the EFL Documentation Project</td>
      <td class="copyright">Copyright &copy;2013 Enlightenment</td>
      <td class="generated">Docs generated Tue Nov 5 2013 19:12:59</td>
    </tr></table>
  </div>
</body>
</html>

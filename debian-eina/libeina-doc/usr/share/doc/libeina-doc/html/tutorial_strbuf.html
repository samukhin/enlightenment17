<html>
<head>
    <title>Eina_Strbuf example</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="author" content="Andres Blanc" >
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/ico">
    <link rel="shortcut icon" href="img/favicon.png" type="image/ico">
    <link rel="stylesheet" type="text/css" href="e.css">
    <link rel="stylesheet" type="text/css" href="edoxy.css">
</head>
<body>
<div id="container">
<div id="header">
<div class="layout">
    <h1><span>Enlightenment</span></h1>
    <h2><span>Beauty at your fingertips</span></h2>
    <table cellspacing="0" cellpadding="0" width="100%"><tr>
      <td id="header_logo">
        <a href="http://www.enlightenment.org"></a>
      </td>
      <td id="header_menu">
        <table cellspacing="0" cellpadding="0" align="right"><tr>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=home">Home</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=news">News</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=about">About</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=download">Download</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=support">Support</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contribute">Contribute</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contact">Contact</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://trac.enlightenment.org/e">Tracker</a></td>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=docs">Docs</a></td> 
        </tr></table>          
      </td>
      <td id="header_last"></td>
    </tr></table>
    <div class="doxytitle">
        Eina Documentation <small>at Tue Nov 5 2013</small>
    </div>
    <div class="menu-container">
        <div class="submenu">
            <ul class="current">
                <li><a href="files.html">Files</a></li>
                <li><a href="modules.html">Modules</a></li>
                <li><a href="pages.html">Related Pages</a></li>
	        <li class="current"><a  href="index.html">Main Page</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
</div>
</div>
<div id="content">
<div class="layout">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Eina_Strbuf example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p></p>
<p>First thing always is including Eina: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Eina_8h.html">Eina.h</a>&gt;</span></div>
<div class="ttc" id="aEina_8h_html"><div class="ttname"><a href="Eina_8h.html">Eina.h</a></div><div class="ttdoc">Eina Utility library.</div></div>
</div><!-- fragment --><p> Next we initialize eina and create a string buffer to play with: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="struct__Eina__Strbuf.html">Eina_Strbuf</a> *buf;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__Main__Group.html#gafee4bfc0e509b6ffed6598edf6f4b3de">eina_init</a>();</div>
<div class="line"> </div>
<div class="line">   buf = <a class="code" href="group__Eina__String__Buffer__Group.html#ga6f3c9ce942e61364a10ec7c0ea01cedc">eina_strbuf_new</a>();</div>
<div class="ttc" id="agroup__Eina__Main__Group_html_gafee4bfc0e509b6ffed6598edf6f4b3de"><div class="ttname"><a href="group__Eina__Main__Group.html#gafee4bfc0e509b6ffed6598edf6f4b3de">eina_init</a></div><div class="ttdeci">int eina_init(void)</div><div class="ttdoc">Initialize the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:244</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga6f3c9ce942e61364a10ec7c0ea01cedc"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga6f3c9ce942e61364a10ec7c0ea01cedc">eina_strbuf_new</a></div><div class="ttdeci">Eina_Strbuf * eina_strbuf_new(void)</div><div class="ttdoc">Create a new string buffer.</div></div>
<div class="ttc" id="astruct__Eina__Strbuf_html"><div class="ttname"><a href="struct__Eina__Strbuf.html">_Eina_Strbuf</a></div><div class="ttdoc">String buffer to facilitate string operations.</div><div class="ttdef"><b>Definition:</b> eina_strbuf_common.h:15</div></div>
</div><!-- fragment --><p> Here you can see two different ways of creating a buffer with the same contents. We could create them in simpler ways, but this gives us an opportunity to demonstrate several functions in action: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#gaad4f562f3a36881f12a4df5154e04b26">eina_strbuf_append_length</a>(buf, <span class="stringliteral">&quot;buffe&quot;</span>, 5);</div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga8afef8fb6f9aedcd6a81603bef0c7f86">eina_strbuf_append_char</a>(buf, <span class="charliteral">&#39;r&#39;</span>);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a>(buf));</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga04719a5613488bbbd17f9eb75933d2c1">eina_strbuf_insert_escaped</a>(buf, <span class="stringliteral">&quot;my &quot;</span>, 0);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a>(buf));</div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga9f3435de2169ee40306c0111fa1a60b6">eina_strbuf_reset</a>(buf);</div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga04719a5613488bbbd17f9eb75933d2c1"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga04719a5613488bbbd17f9eb75933d2c1">eina_strbuf_insert_escaped</a></div><div class="ttdeci">Eina_Bool eina_strbuf_insert_escaped(Eina_Strbuf *buf, const char *str, size_t pos)</div><div class="ttdoc">Insert an escaped string to a buffer, reallocating as necessary.</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga66c7c19a2b240448fbd2dae6c6161023"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a></div><div class="ttdeci">const char * eina_strbuf_string_get(const Eina_Strbuf *buf)</div><div class="ttdoc">Retrieve a pointer to the contents of a string buffer.</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga8afef8fb6f9aedcd6a81603bef0c7f86"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga8afef8fb6f9aedcd6a81603bef0c7f86">eina_strbuf_append_char</a></div><div class="ttdeci">Eina_Bool eina_strbuf_append_char(Eina_Strbuf *buf, char c)</div><div class="ttdoc">Append a character to a string buffer, reallocating as necessary.</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga9f3435de2169ee40306c0111fa1a60b6"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga9f3435de2169ee40306c0111fa1a60b6">eina_strbuf_reset</a></div><div class="ttdeci">void eina_strbuf_reset(Eina_Strbuf *buf)</div><div class="ttdoc">Reset a string buffer.</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_gaad4f562f3a36881f12a4df5154e04b26"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#gaad4f562f3a36881f12a4df5154e04b26">eina_strbuf_append_length</a></div><div class="ttdeci">Eina_Bool eina_strbuf_append_length(Eina_Strbuf *buf, const char *str, size_t length)</div><div class="ttdoc">Append a string of exact length to a buffer, reallocating as necessary.</div></div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga408b371f57f35a8f5391c2e85ab28b35">eina_strbuf_append_escaped</a>(buf, <span class="stringliteral">&quot;my buffer&quot;</span>);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a>(buf));</div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga9f3435de2169ee40306c0111fa1a60b6">eina_strbuf_reset</a>(buf);</div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga408b371f57f35a8f5391c2e85ab28b35"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga408b371f57f35a8f5391c2e85ab28b35">eina_strbuf_append_escaped</a></div><div class="ttdeci">Eina_Bool eina_strbuf_append_escaped(Eina_Strbuf *buf, const char *str)</div><div class="ttdoc">Append an escaped string to a buffer, reallocating as necessary.</div></div>
</div><!-- fragment --><p> Next we use the printf family of functions to create a formated string, add, remove and replace some content: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga436897daafadbf56f2e3d7c0d4d21040">eina_strbuf_append_printf</a>(buf, <span class="stringliteral">&quot;%s%c&quot;</span>, <span class="stringliteral">&quot;buffe&quot;</span>, <span class="charliteral">&#39;r&#39;</span>);</div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga8dca9fa4f4d792e32ab0b3b3542de8ab">eina_strbuf_insert_printf</a>(buf, <span class="stringliteral">&quot; %s: %d&quot;</span>, 6, <span class="stringliteral">&quot;length&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#gaa6ef2a1cb7f79070508e6bf158caeccc">eina_strbuf_length_get</a>(buf));</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a>(buf));</div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga436897daafadbf56f2e3d7c0d4d21040"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga436897daafadbf56f2e3d7c0d4d21040">eina_strbuf_append_printf</a></div><div class="ttdeci">Eina_Bool eina_strbuf_append_printf(Eina_Strbuf *buf, const char *fmt,...) EINA_PRINTF(2</div><div class="ttdoc">Append a string to a buffer, reallocating as necessary.</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga8dca9fa4f4d792e32ab0b3b3542de8ab"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga8dca9fa4f4d792e32ab0b3b3542de8ab">eina_strbuf_insert_printf</a></div><div class="ttdeci">Eina_Bool eina_strbuf_insert_printf(Eina_Strbuf *buf, const char *fmt, size_t pos,...) EINA_PRINTF(2</div><div class="ttdoc">Insert a string to a buffer, reallocating as necessary.</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_gaa6ef2a1cb7f79070508e6bf158caeccc"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#gaa6ef2a1cb7f79070508e6bf158caeccc">eina_strbuf_length_get</a></div><div class="ttdeci">size_t eina_strbuf_length_get(const Eina_Strbuf *buf)</div><div class="ttdoc">Retrieve the length of the string buffer content.</div></div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#gac7ead92f4ce23c16b7a33d40ce3bf5cd">eina_strbuf_remove</a>(buf, 0, 7);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a>(buf));</div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_gac7ead92f4ce23c16b7a33d40ce3bf5cd"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#gac7ead92f4ce23c16b7a33d40ce3bf5cd">eina_strbuf_remove</a></div><div class="ttdeci">Eina_Bool eina_strbuf_remove(Eina_Strbuf *buf, size_t start, size_t end)</div><div class="ttdoc">Remove a slice of the given string buffer.</div></div>
<div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#gab86cdc70b13b7f6b1c168ed2b563d600">eina_strbuf_replace_all</a>(buf, <span class="stringliteral">&quot;length&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>);</div>
<div class="line">   printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="group__Eina__String__Buffer__Group.html#ga66c7c19a2b240448fbd2dae6c6161023">eina_strbuf_string_get</a>(buf));</div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_gab86cdc70b13b7f6b1c168ed2b563d600"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#gab86cdc70b13b7f6b1c168ed2b563d600">eina_strbuf_replace_all</a></div><div class="ttdeci">int eina_strbuf_replace_all(Eina_Strbuf *buf, const char *str, const char *with)</div><div class="ttdoc">Replace all strings with an other string.</div><div class="ttdef"><b>Definition:</b> eina_strbuf_common.c:801</div></div>
</div><!-- fragment --><p> Once done we free our string buffer, shut down Eina and end the application: </p><div class="fragment"><div class="line"> </div>
<div class="line">   <a class="code" href="group__Eina__String__Buffer__Group.html#ga482e9f90bc8e0e17811e825975a2ba85">eina_strbuf_free</a>(buf);</div>
<div class="line">   <a class="code" href="group__Eina__Main__Group.html#ga2c8b4020427108a30c44707af22c99d3">eina_shutdown</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__Eina__Main__Group_html_ga2c8b4020427108a30c44707af22c99d3"><div class="ttname"><a href="group__Eina__Main__Group.html#ga2c8b4020427108a30c44707af22c99d3">eina_shutdown</a></div><div class="ttdeci">int eina_shutdown(void)</div><div class="ttdoc">Shut down the Eina library.</div><div class="ttdef"><b>Definition:</b> eina_main.c:315</div></div>
<div class="ttc" id="agroup__Eina__String__Buffer__Group_html_ga482e9f90bc8e0e17811e825975a2ba85"><div class="ttname"><a href="group__Eina__String__Buffer__Group.html#ga482e9f90bc8e0e17811e825975a2ba85">eina_strbuf_free</a></div><div class="ttdeci">void eina_strbuf_free(Eina_Strbuf *buf)</div><div class="ttdoc">Free a string buffer.</div></div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- PageDoc -->
 
 <div id="push"></div>
 </div> <!-- #content -->
  </div> <!-- .layout -->
 </div> <!-- #container -->
  <div id="footer">
    <table><tr>
      <td class="poweredby"><img src="doxygen.png"></td>
      <td>Samsung Electronics is supporting the EFL Documentation Project</td>
      <td class="copyright">Copyright &copy;2013 Enlightenment</td>
      <td class="generated">Docs generated Tue Nov 5 2013 19:12:59</td>
    </tr></table>
  </div>
</body>
</html>

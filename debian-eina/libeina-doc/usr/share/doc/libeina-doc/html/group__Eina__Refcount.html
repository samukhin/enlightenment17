<html>
<head>
    <title>References counting</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="author" content="Andres Blanc" >
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/ico">
    <link rel="shortcut icon" href="img/favicon.png" type="image/ico">
    <link rel="stylesheet" type="text/css" href="e.css">
    <link rel="stylesheet" type="text/css" href="edoxy.css">
</head>
<body>
<div id="container">
<div id="header">
<div class="layout">
    <h1><span>Enlightenment</span></h1>
    <h2><span>Beauty at your fingertips</span></h2>
    <table cellspacing="0" cellpadding="0" width="100%"><tr>
      <td id="header_logo">
        <a href="http://www.enlightenment.org"></a>
      </td>
      <td id="header_menu">
        <table cellspacing="0" cellpadding="0" align="right"><tr>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=home">Home</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=news">News</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=about">About</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=download">Download</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=support">Support</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contribute">Contribute</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contact">Contact</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://trac.enlightenment.org/e">Tracker</a></td>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=docs">Docs</a></td> 
        </tr></table>          
      </td>
      <td id="header_last"></td>
    </tr></table>
    <div class="doxytitle">
        Eina Documentation <small>at Tue Nov 5 2013</small>
    </div>
    <div class="menu-container">
        <div class="submenu">
            <ul class="current">
                <li><a href="files.html">Files</a></li>
                <li><a href="modules.html">Modules</a></li>
                <li><a href="pages.html">Related Pages</a></li>
	        <li class="current"><a  href="index.html">Main Page</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
</div>
</div>
<div id="content">
<div class="layout">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">References counting<div class="ingroups"><a class="el" href="group__Eina__Data__Types__Group.html">Data Types</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Small macro that simplify references counting.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf38d0c3392258429d9634dbea7c51648"><td class="memItemLeft" align="right" valign="top"><a id="gaf38d0c3392258429d9634dbea7c51648"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Refcount.html#gaf38d0c3392258429d9634dbea7c51648">EINA_REFCOUNT</a>&#160;&#160;&#160;<a class="el" href="group__Eina__Refcount.html#gaa357f5cce40409c2fca598508d5f3703">Eina_Refcount</a> __refcount</td></tr>
<tr class="memdesc:gaf38d0c3392258429d9634dbea7c51648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for declaring a reference counting member in a struct. <br /></td></tr>
<tr class="separator:gaf38d0c3392258429d9634dbea7c51648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7cbb849fe94000305dd344b98344a95"><td class="memItemLeft" align="right" valign="top"><a id="gae7cbb849fe94000305dd344b98344a95"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Refcount.html#gae7cbb849fe94000305dd344b98344a95">EINA_REFCOUNT_INIT</a>(Variable)&#160;&#160;&#160;(Variable)-&gt;__refcount = 1</td></tr>
<tr class="memdesc:gae7cbb849fe94000305dd344b98344a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used just after allocating a object. <br /></td></tr>
<tr class="separator:gae7cbb849fe94000305dd344b98344a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1303550c19416335a5e4d012f3f5ded0"><td class="memItemLeft" align="right" valign="top"><a id="ga1303550c19416335a5e4d012f3f5ded0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Refcount.html#ga1303550c19416335a5e4d012f3f5ded0">EINA_REFCOUNT_REF</a>(Variable)&#160;&#160;&#160;(Variable)-&gt;__refcount++</td></tr>
<tr class="memdesc:ga1303550c19416335a5e4d012f3f5ded0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used when using referring to an object one more time. <br /></td></tr>
<tr class="separator:ga1303550c19416335a5e4d012f3f5ded0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85c005aaee53141665fb5ea88e10f5e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Refcount.html#ga85c005aaee53141665fb5ea88e10f5e0">EINA_REFCOUNT_UNREF</a>(Variable)&#160;&#160;&#160;  if (--((Variable)-&gt;__refcount) == 0)</td></tr>
<tr class="memdesc:ga85c005aaee53141665fb5ea88e10f5e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used when removing a reference to an object.  <a href="group__Eina__Refcount.html#ga85c005aaee53141665fb5ea88e10f5e0">More...</a><br /></td></tr>
<tr class="separator:ga85c005aaee53141665fb5ea88e10f5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3987f48cd01a1c3d17f6b59d65d22a33"><td class="memItemLeft" align="right" valign="top"><a id="ga3987f48cd01a1c3d17f6b59d65d22a33"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Refcount.html#ga3987f48cd01a1c3d17f6b59d65d22a33">EINA_REFCOUNT_GET</a>(Variable)&#160;&#160;&#160;(Variable)-&gt;__refcount</td></tr>
<tr class="memdesc:ga3987f48cd01a1c3d17f6b59d65d22a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get refcounting value. <br /></td></tr>
<tr class="separator:ga3987f48cd01a1c3d17f6b59d65d22a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa357f5cce40409c2fca598508d5f3703"><td class="memItemLeft" align="right" valign="top"><a id="gaa357f5cce40409c2fca598508d5f3703"></a>
typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Refcount.html#gaa357f5cce40409c2fca598508d5f3703">Eina_Refcount</a></td></tr>
<tr class="memdesc:gaa357f5cce40409c2fca598508d5f3703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inlined references counting type. <br /></td></tr>
<tr class="separator:gaa357f5cce40409c2fca598508d5f3703"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Small macro that simplify references counting. </p>
<p>References counting is not a difficult task, but you must handle it correctly every where, and that the issue. This set of macro do provide helper that will force to use the correct code in most case and reduce the bug likeliness. Of course this without affecting speed ! </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga85c005aaee53141665fb5ea88e10f5e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85c005aaee53141665fb5ea88e10f5e0">&#9670;&nbsp;</a></span>EINA_REFCOUNT_UNREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EINA_REFCOUNT_UNREF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Variable</td><td>)</td>
          <td>&#160;&#160;&#160;  if (--((Variable)-&gt;__refcount) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used when removing a reference to an object. </p>
<p>The code just after will automatically be called when necessary </p>

</div>
</div>
</div><!-- contents -->
 
 <div id="push"></div>
 </div> <!-- #content -->
  </div> <!-- .layout -->
 </div> <!-- #container -->
  <div id="footer">
    <table><tr>
      <td class="poweredby"><img src="doxygen.png"></td>
      <td>Samsung Electronics is supporting the EFL Documentation Project</td>
      <td class="copyright">Copyright &copy;2013 Enlightenment</td>
      <td class="generated">Docs generated Tue Nov 5 2013 19:12:59</td>
    </tr></table>
  </div>
</body>
</html>

<html>
<head>
    <title>Binary Share</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="author" content="Andres Blanc" >
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/ico">
    <link rel="shortcut icon" href="img/favicon.png" type="image/ico">
    <link rel="stylesheet" type="text/css" href="e.css">
    <link rel="stylesheet" type="text/css" href="edoxy.css">
</head>
<body>
<div id="container">
<div id="header">
<div class="layout">
    <h1><span>Enlightenment</span></h1>
    <h2><span>Beauty at your fingertips</span></h2>
    <table cellspacing="0" cellpadding="0" width="100%"><tr>
      <td id="header_logo">
        <a href="http://www.enlightenment.org"></a>
      </td>
      <td id="header_menu">
        <table cellspacing="0" cellpadding="0" align="right"><tr>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=home">Home</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=news">News</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=about">About</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=download">Download</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=support">Support</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contribute">Contribute</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contact">Contact</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://trac.enlightenment.org/e">Tracker</a></td>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=docs">Docs</a></td> 
        </tr></table>          
      </td>
      <td id="header_last"></td>
    </tr></table>
    <div class="doxytitle">
        Eina Documentation <small>at Tue Nov 5 2013</small>
    </div>
    <div class="menu-container">
        <div class="submenu">
            <ul class="current">
                <li><a href="files.html">Files</a></li>
                <li><a href="modules.html">Modules</a></li>
                <li><a href="pages.html">Related Pages</a></li>
	        <li class="current"><a  href="index.html">Main Page</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
</div>
</div>
<div id="content">
<div class="layout">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Binary Share<div class="ingroups"><a class="el" href="group__Eina__Data__Types__Group.html">Data Types</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions allow you to store one copy of an object, and use it throughout your program.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1472e150f4fbaa3f05e5c583b1698b40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40">eina_binshare_add</a>(ptr)&#160;&#160;&#160;<a class="el" href="group__Eina__Binshare__Group.html#ga1a6631b960ee18c848192b6ea7ff1b18">eina_binshare_add_length</a>(ptr, sizeof(*ptr))</td></tr>
<tr class="memdesc:ga1472e150f4fbaa3f05e5c583b1698b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an instance of a blob for use in a program.  <a href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40">More...</a><br /></td></tr>
<tr class="separator:ga1472e150f4fbaa3f05e5c583b1698b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1a6631b960ee18c848192b6ea7ff1b18"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga1a6631b960ee18c848192b6ea7ff1b18">eina_binshare_add_length</a> (const void *obj, unsigned int olen)</td></tr>
<tr class="memdesc:ga1a6631b960ee18c848192b6ea7ff1b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an instance of an object for use in a program.  <a href="group__Eina__Binshare__Group.html#ga1a6631b960ee18c848192b6ea7ff1b18">More...</a><br /></td></tr>
<tr class="separator:ga1a6631b960ee18c848192b6ea7ff1b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65b8a32d90f5c71368a33aff5910f68f"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga65b8a32d90f5c71368a33aff5910f68f">eina_binshare_ref</a> (const void *obj)</td></tr>
<tr class="memdesc:ga65b8a32d90f5c71368a33aff5910f68f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment references of the given shared object.  <a href="group__Eina__Binshare__Group.html#ga65b8a32d90f5c71368a33aff5910f68f">More...</a><br /></td></tr>
<tr class="separator:ga65b8a32d90f5c71368a33aff5910f68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d27dea908363feae9b580abacf52383"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga9d27dea908363feae9b580abacf52383">eina_binshare_del</a> (const void *obj)</td></tr>
<tr class="memdesc:ga9d27dea908363feae9b580abacf52383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note that the given object has lost an instance.  <a href="group__Eina__Binshare__Group.html#ga9d27dea908363feae9b580abacf52383">More...</a><br /></td></tr>
<tr class="separator:ga9d27dea908363feae9b580abacf52383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c4a177729e140b930e140b5e3d7fdfc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#ga6c4a177729e140b930e140b5e3d7fdfc">eina_binshare_length</a> (const void *obj)</td></tr>
<tr class="memdesc:ga6c4a177729e140b930e140b5e3d7fdfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note that the given object <b>must</b> be shared.  <a href="group__Eina__Binshare__Group.html#ga6c4a177729e140b930e140b5e3d7fdfc">More...</a><br /></td></tr>
<tr class="separator:ga6c4a177729e140b930e140b5e3d7fdfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecc9a06d58c91fcf7c1b01ad01dca045"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Eina__Binshare__Group.html#gaecc9a06d58c91fcf7c1b01ad01dca045">eina_binshare_dump</a> (void)</td></tr>
<tr class="memdesc:gaecc9a06d58c91fcf7c1b01ad01dca045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump the contents of the share_common.  <a href="group__Eina__Binshare__Group.html#gaecc9a06d58c91fcf7c1b01ad01dca045">More...</a><br /></td></tr>
<tr class="separator:gaecc9a06d58c91fcf7c1b01ad01dca045"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions allow you to store one copy of an object, and use it throughout your program. </p>
<p>This is a method to reduce the number of duplicated objects kept in memory.</p>
<p>For more information, you can look at the <a class="el" href="tutorial_binshare_page.html">Binary Share Tutorial</a>. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga1472e150f4fbaa3f05e5c583b1698b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1472e150f4fbaa3f05e5c583b1698b40">&#9670;&nbsp;</a></span>eina_binshare_add</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define eina_binshare_add</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__Eina__Binshare__Group.html#ga1a6631b960ee18c848192b6ea7ff1b18">eina_binshare_add_length</a>(ptr, sizeof(*ptr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an instance of a blob for use in a program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>The binary blob to retrieve an instance of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an instance of the string on success. <code>NULL</code> on failure.</dd></dl>
<p>This macro retrieves an instance of <code>obj</code>. If <code>obj</code> is <code>NULL</code>, then <code>NULL</code> is returned. If <code>obj</code> is already stored, it is just returned and its reference counter is increased. Otherwise it is added to the blobs to be searched and a duplicated blob of <code>obj</code> is returned.</p>
<p>This macro essentially calls eina_binshare_add_length with ptr and sizeof(*ptr) as the parameters. It's useful for pointers to structures.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Stringshare__Group.html#gabe8ecf4121011cb792f36ecd8c44e470" title="Retrieve an instance of a string for use in a program.">eina_stringshare_add_length()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1a6631b960ee18c848192b6ea7ff1b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a6631b960ee18c848192b6ea7ff1b18">&#9670;&nbsp;</a></span>eina_binshare_add_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* eina_binshare_add_length </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>olen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an instance of an object for use in a program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The binary object to retrieve an instance of. </td></tr>
    <tr><td class="paramname">olen</td><td>The byte size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an instance of the object on success. <code>NULL</code> on failure.</dd></dl>
<p>This function retrieves an instance of <code>obj</code>. If <code>obj</code> is <code>NULL</code>, then <code>NULL</code> is returned. If <code>obj</code> is already stored, it is just returned and its reference counter is increased. Otherwise it is added to the objects to be searched and a duplicated object of <code>obj</code> is returned.</p>
<p>This function does not check object size, but uses the exact given size. This can be used to share part of a larger object or subobject.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40" title="Retrieve an instance of a blob for use in a program.">eina_binshare_add()</a> </dd></dl>

</div>
</div>
<a id="ga65b8a32d90f5c71368a33aff5910f68f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65b8a32d90f5c71368a33aff5910f68f">&#9670;&nbsp;</a></span>eina_binshare_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* eina_binshare_ref </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment references of the given shared object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The shared object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an instance of the object on success. <code>NULL</code> on failure.</dd></dl>
<p>This is similar to eina_share_common_add(), but it's faster since it will avoid lookups if possible, but on the down side it requires the parameter to be shared before, in other words, it must be the return of a previous <a class="el" href="group__Eina__Binshare__Group.html#ga1472e150f4fbaa3f05e5c583b1698b40" title="Retrieve an instance of a blob for use in a program.">eina_binshare_add()</a>.</p>
<p>There is no unref since this is the work of <a class="el" href="group__Eina__Binshare__Group.html#ga9d27dea908363feae9b580abacf52383" title="Note that the given object has lost an instance.">eina_binshare_del()</a>. </p>

</div>
</div>
<a id="ga9d27dea908363feae9b580abacf52383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d27dea908363feae9b580abacf52383">&#9670;&nbsp;</a></span>eina_binshare_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eina_binshare_del </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note that the given object has lost an instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>object The given object.</td></tr>
  </table>
  </dd>
</dl>
<p>This function decreases the reference counter associated to <code>obj</code> if it exists. If that counter reaches 0, the memory associated to <code>obj</code> is freed. If <code>obj</code> is <code>NULL</code>, the function returns immediately.</p>
<dl class="section note"><dt>Note</dt><dd>If the given pointer is not shared, bad things will happen, likely a segmentation fault. </dd></dl>

</div>
</div>
<a id="ga6c4a177729e140b930e140b5e3d7fdfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c4a177729e140b930e140b5e3d7fdfc">&#9670;&nbsp;</a></span>eina_binshare_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eina_binshare_length </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note that the given object <b>must</b> be shared. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the shared object to know the length. It is safe to give <code>NULL</code>, in that case <code>-1</code> is returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the shared object.</dd></dl>
<p>This function is a cheap way to known the length of a shared object. </p><dl class="section note"><dt>Note</dt><dd>If the given pointer is not shared, bad things will happen, likely a segmentation fault. If in doubt, try strlen(). </dd></dl>

</div>
</div>
<a id="gaecc9a06d58c91fcf7c1b01ad01dca045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecc9a06d58c91fcf7c1b01ad01dca045">&#9670;&nbsp;</a></span>eina_binshare_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eina_binshare_dump </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump the contents of the share_common. </p>
<p>This function dumps all objects in the share_common to stdout with a DDD: prefix per line and a memory usage summary. </p>

</div>
</div>
</div><!-- contents -->
 
 <div id="push"></div>
 </div> <!-- #content -->
  </div> <!-- .layout -->
 </div> <!-- #container -->
  <div id="footer">
    <table><tr>
      <td class="poweredby"><img src="doxygen.png"></td>
      <td>Samsung Electronics is supporting the EFL Documentation Project</td>
      <td class="copyright">Copyright &copy;2013 Enlightenment</td>
      <td class="generated">Docs generated Tue Nov 5 2013 19:12:59</td>
    </tr></table>
  </div>
</body>
</html>

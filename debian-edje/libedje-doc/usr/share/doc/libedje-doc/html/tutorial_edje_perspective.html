<html>
<head>
    <title>Perspective example</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta name="author" content="Andres Blanc" >
    <link rel="icon" href="img/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/ico">
    <link rel="shortcut icon" href="img/favicon.png" type="image/ico">
    <link rel="stylesheet" type="text/css" href="e.css">
    <link rel="stylesheet" type="text/css" href="edoxy.css">
</head>
<body>
<div id="container">
<div id="header">
<div class="layout">
    <h1><span>Enlightenment</span></h1>
    <h2><span>Beauty at your fingertips</span></h2>
    <table cellspacing="0" cellpadding="0" width="100%"><tr>
      <td id="header_logo">
        <a href="http://www.enlightenment.org"></a>
      </td>
      <td id="header_menu">
        <table cellspacing="0" cellpadding="0" align="right"><tr>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=home">Home</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=news">News</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=about">About</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=download">Download</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=support">Support</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contribute">Contribute</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=contact">Contact</a></td> 
          <td class="nav_passive"><a class="nav_passive" href="http://trac.enlightenment.org/e">Tracker</a></td>
          <td class="nav_passive"><a class="nav_passive" href="http://www.enlightenment.org/p.php?p=docs">Docs</a></td> 
        </tr></table>          
      </td>
      <td id="header_last"></td>
    </tr></table>
    <div class="doxytitle">
        Edje Documentation <small>at Tue Nov 5 2013</small>
    </div>
    <div class="menu-container">
        <div class="submenu">
            <ul class="current">
                <li><a href="files.html">Files</a></li>
                <li><a href="Edje__Edit_8h.html">Edje Edit API</a></li>
                <li><a href="Examples.html">Examples</a></li>
                <li><a href="luaref.html">LUA scripting</a></li>
                <li><a href="Edje_8h.html">Edje API</a></li>
                <li><a href="edcref.html">EDC Reference</a></li>
                <li><a href="pages.html">Releted Pages</a></li>
                <li class="current"><a  href="index.html">Main Page</a></li>
            </ul>
        </div>
    </div>
    <div class="clear"></div>
</div>
</div>
<div id="content">
<div class="layout">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Perspective example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example demonstrates how someone can set a perspective to be used by an Edje object, but setting a global perspective.</p>
<p>The API for setting a perspective for just one Edje object is almost the same and it's trivial, so we are not doing that on this example.</p>
<p>Let's go first to the main function, where we start creating our objects and loading the theme. We also set some variables that will be used globally in our program:</p>
 <div class="fragment"><div class="line">main(<span class="keywordtype">int</span> argc __UNUSED__, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span>         edje_file_path[PATH_MAX];</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span>  *edje_file = <span class="stringliteral">&quot;perspective.edj&quot;</span>;</div>
<div class="line">   <span class="keyword">struct </span>_App  app;</div>
<div class="line">   Ecore_Evas  *ee;</div>
<div class="line">   Evas        *evas;</div>
<div class="line">   Eina_Prefix *pfx;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!ecore_evas_init())</div>
<div class="line">     <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!<a class="code" href="Edje_8h.html#a18ea124be2b5f786aff0f2c3ba87883e">edje_init</a>())</div>
<div class="line">     <span class="keywordflow">goto</span> shutdown_ecore_evas;</div>
<div class="line"> </div>
<div class="line">   pfx = eina_prefix_new(argv[0], main,</div>
<div class="line">                         <span class="stringliteral">&quot;EDJE_EXAMPLES&quot;</span>,</div>
<div class="line">                         <span class="stringliteral">&quot;edje/examples&quot;</span>,</div>
<div class="line">                         edje_file,</div>
<div class="line">                         PACKAGE_BIN_DIR,</div>
<div class="line">                         PACKAGE_LIB_DIR,</div>
<div class="line">                         PACKAGE_DATA_DIR,</div>
<div class="line">                         PACKAGE_DATA_DIR);</div>
<div class="line">   <span class="keywordflow">if</span> (!pfx)</div>
<div class="line">     <span class="keywordflow">goto</span> shutdown_edje;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="Edje_8h.html#af0f430696a6e26a5cd0c3c3eeda129c7">edje_frametime_set</a>(1.0 / 60.0);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">/* this will give you a window with an Evas canvas under the first</span></div>
<div class="line"><span class="comment">    * engine available */</span></div>
<div class="line">   app.animating = EINA_FALSE;</div>
<div class="line">   app.x = 0;</div>
<div class="line">   app.y = 0;</div>
<div class="line">   app.focal = 50;</div>
<div class="ttc" id="aEdje_8h_html_a18ea124be2b5f786aff0f2c3ba87883e"><div class="ttname"><a href="Edje_8h.html#a18ea124be2b5f786aff0f2c3ba87883e">edje_init</a></div><div class="ttdeci">EAPI int edje_init(void)</div><div class="ttdoc">Initialize the Edje library.</div><div class="ttdef"><b>Definition:</b> edje_main.c:17</div></div>
<div class="ttc" id="aEdje_8h_html_af0f430696a6e26a5cd0c3c3eeda129c7"><div class="ttname"><a href="Edje_8h.html#af0f430696a6e26a5cd0c3c3eeda129c7">edje_frametime_set</a></div><div class="ttdeci">EAPI void edje_frametime_set(double t)</div><div class="ttdoc">Set edje trasitions' frame time.</div><div class="ttdef"><b>Definition:</b> edje_program.c:16</div></div>
</div><!-- fragment --><p> A boolean is used to indicate that we are animating.</p>
<p>We also set the <code>app.x</code> and <code>app.y</code> to (0, 0) because the original position of our text + rectangle part will be on top left. This is a convention that we are using in this example, and setting x, y to 1, 1 would mean bottom right. We do this to later define the name of the signals that we are sending to the theme.</p>
<p>After this, some boilerplate code to load the theme:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   ee = ecore_evas_new(NULL, 0, 0, WIDTH, HEIGHT, NULL);</div>
<div class="line">   <span class="keywordflow">if</span> (!ee)</div>
<div class="line">     <span class="keywordflow">goto</span> free_prefix;</div>
<div class="line"> </div>
<div class="line">   ecore_evas_callback_destroy_set(ee, _on_destroy);</div>
<div class="line">   ecore_evas_callback_resize_set(ee, _on_canvas_resize);</div>
<div class="line">   ecore_evas_title_set(ee, <span class="stringliteral">&quot;Edje Box Example&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   ecore_evas_data_set(ee, <span class="stringliteral">&quot;app&quot;</span>, &amp;app);</div>
<div class="line"> </div>
<div class="line">   evas = ecore_evas_get(ee);</div>
<div class="line"> </div>
<div class="line">   app.bg = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(app.bg, 255, 255, 255, 255);</div>
<div class="line">   evas_object_resize(app.bg, WIDTH, HEIGHT);</div>
<div class="line">   evas_object_focus_set(app.bg, EINA_TRUE);</div>
<div class="line">   evas_object_show(app.bg);</div>
</div><!-- fragment --><p> Now we are going to setup a callback to tell us that the animation has ended. We do this just to avoid sending signals to the theme while it's animating.</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   evas_object_event_callback_add(app.bg, EVAS_CALLBACK_KEY_DOWN, _on_bg_key_down, &amp;app);</div>
<div class="line"> </div>
<div class="line">   app.edje_obj = <a class="code" href="Edje_8h.html#a8cb00e5256fd50487f0669bc3bf9b8e0">edje_object_add</a>(evas);</div>
<div class="line"> </div>
<div class="line">   snprintf(edje_file_path, <span class="keyword">sizeof</span>(edje_file_path),</div>
<div class="line">            <span class="stringliteral">&quot;%s/examples/%s&quot;</span>, eina_prefix_data_get(pfx), edje_file);</div>
<div class="line">   <a class="code" href="Edje_8h.html#ab375d28c2726ccc32165b66b64abfc0a">edje_object_file_set</a>(app.edje_obj, edje_file_path, <span class="stringliteral">&quot;example/group&quot;</span>);</div>
<div class="line">   evas_object_move(app.edje_obj, 0, 0);</div>
<div class="line">   evas_object_resize(app.edje_obj, WIDTH, HEIGHT);</div>
<div class="line">   evas_object_show(app.edje_obj);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="Edje_8h.html#a92fe0c052c9f023a29cd04d0bbd542a7">edje_object_signal_callback_add</a>(app.edje_obj, <span class="stringliteral">&quot;animation,end&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, _animation_end_cb, &amp;app);</div>
<div class="ttc" id="aEdje_8h_html_a8cb00e5256fd50487f0669bc3bf9b8e0"><div class="ttname"><a href="Edje_8h.html#a8cb00e5256fd50487f0669bc3bf9b8e0">edje_object_add</a></div><div class="ttdeci">EAPI Evas_Object * edje_object_add(Evas *evas)</div><div class="ttdoc">Instantiate a new Edje object.</div><div class="ttdef"><b>Definition:</b> edje_smart.c:22</div></div>
<div class="ttc" id="aEdje_8h_html_a92fe0c052c9f023a29cd04d0bbd542a7"><div class="ttname"><a href="Edje_8h.html#a92fe0c052c9f023a29cd04d0bbd542a7">edje_object_signal_callback_add</a></div><div class="ttdeci">EAPI void edje_object_signal_callback_add(Evas_Object *obj, const char *emission, const char *source, Edje_Signal_Cb func, void *data)</div><div class="ttdoc">Add a callback for an arriving Edje signal, emitted by a given Ejde object.</div></div>
<div class="ttc" id="aEdje_8h_html_ab375d28c2726ccc32165b66b64abfc0a"><div class="ttname"><a href="Edje_8h.html#ab375d28c2726ccc32165b66b64abfc0a">edje_object_file_set</a></div><div class="ttdeci">EAPI Eina_Bool edje_object_file_set(Evas_Object *obj, const char *file, const char *group)</div><div class="ttdoc">Sets the EDJ file (and group within it) to load an Edje object's contents from.</div><div class="ttdef"><b>Definition:</b> edje_load.c:40</div></div>
</div><!-- fragment --><p> Finally, let's create our perspective object, define its position, focal distance and z plane position, and set it as global:</p>
<div class="fragment"><div class="line"> </div>
<div class="line">   app.ps = <a class="code" href="Edje_8h.html#a40e24d0f8c165580d345ca2a8bf5b368">edje_perspective_new</a>(evas);</div>
<div class="line">   <a class="code" href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a>(app.ps, 240, 160, 0, app.focal);</div>
<div class="line">   <a class="code" href="Edje_8h.html#a135e2eef15d671a44374f08458f614fc">edje_perspective_global_set</a>(app.ps, EINA_TRUE);</div>
<div class="ttc" id="aEdje_8h_html_a135e2eef15d671a44374f08458f614fc"><div class="ttname"><a href="Edje_8h.html#a135e2eef15d671a44374f08458f614fc">edje_perspective_global_set</a></div><div class="ttdeci">EAPI void edje_perspective_global_set(Edje_Perspective *ps, Eina_Bool global)</div><div class="ttdoc">Make this perspective object be global for its canvas.</div><div class="ttdef"><b>Definition:</b> edje_util.c:4325</div></div>
<div class="ttc" id="aEdje_8h_html_a40e24d0f8c165580d345ca2a8bf5b368"><div class="ttname"><a href="Edje_8h.html#a40e24d0f8c165580d345ca2a8bf5b368">edje_perspective_new</a></div><div class="ttdeci">EAPI Edje_Perspective * edje_perspective_new(Evas *e)</div><div class="ttdoc">Creates a new perspective in the given canvas.</div><div class="ttdef"><b>Definition:</b> edje_util.c:4255</div></div>
<div class="ttc" id="aEdje_8h_html_ac67b6372adcf093e43334d5385a1fed9"><div class="ttname"><a href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a></div><div class="ttdeci">EAPI void edje_perspective_set(Edje_Perspective *ps, Evas_Coord px, Evas_Coord py, Evas_Coord z0, Evas_Coord foc)</div><div class="ttdoc">Setup the transform for this perspective object.</div><div class="ttdef"><b>Definition:</b> edje_util.c:4282</div></div>
</div><!-- fragment --><p> Notice that if we wanted to set it just to our edje object, instead of setting the perspective as global to the entire canvas, we could just use <a class="el" href="Edje_8h.html#aae8174e6656a862889ab9ed103bd2e66" title="Set the given perspective object on this Edje object.">edje_object_perspective_set()</a> instead of <a class="el" href="Edje_8h.html#a135e2eef15d671a44374f08458f614fc" title="Make this perspective object be global for its canvas.">edje_perspective_global_set()</a>. The rest of the code would be exactly the same.</p>
<p>Now, let's take a look at what we do in our callbacks.</p>
<p>The callback for key_down is converting the arrow keys to a signal that represents where we want our text and rectangle moved to. It does that by using the following function:</p>
 <div class="fragment"><div class="line">_part_move(<span class="keyword">struct</span> _App *app, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span> emission[64];</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;animating)</div>
<div class="line">     <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">   app-&gt;x += dx;</div>
<div class="line">   app-&gt;y += dy;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;x &gt; 1)</div>
<div class="line">     app-&gt;x = 1;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;x &lt; 0)</div>
<div class="line">     app-&gt;x = 0;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;y &gt; 1)</div>
<div class="line">     app-&gt;y = 1;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;y &lt; 0)</div>
<div class="line">     app-&gt;y = 0;</div>
<div class="line"> </div>
<div class="line">   snprintf(emission, <span class="keyword">sizeof</span>(emission), <span class="stringliteral">&quot;move,%d,%d&quot;</span>, app-&gt;x, app-&gt;y);</div>
<div class="line">   <a class="code" href="Edje_8h.html#a700d424448139fa85a09906b67dbd62c">edje_object_signal_emit</a>(app-&gt;edje_obj, emission, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">   app-&gt;animating = EINA_TRUE;</div>
<div class="line">}</div>
<div class="ttc" id="aEdje_8h_html_a700d424448139fa85a09906b67dbd62c"><div class="ttname"><a href="Edje_8h.html#a700d424448139fa85a09906b67dbd62c">edje_object_signal_emit</a></div><div class="ttdeci">EAPI void edje_object_signal_emit(Evas_Object *obj, const char *emission, const char *source)</div><div class="ttdoc">Send/emit an Edje signal to a given Edje object.</div><div class="ttdef"><b>Definition:</b> edje_program.c:164</div></div>
</div><!-- fragment --><p> Notice that, after sending the signal to the Edje object, we set our boolean to store that we are animating now. It will only be unset when we receive a signal from the theme that the animation has ended.</p>
<p>Now, on the key_down code, we just call this function when the arrows or "PgUp" or "PgDown" keys are pressed:</p>
<div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_on_bg_key_down(<span class="keywordtype">void</span> *data, Evas *e __UNUSED__, Evas_Object *o __UNUSED__, <span class="keywordtype">void</span> *event_info)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>_App *app = data;</div>
<div class="line">   Evas_Event_Key_Down *ev = event_info;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;h&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">        fprintf(stdout, commands);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">     }</div>
<div class="line">   <span class="comment">// just moving the part and text</span></div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Down&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 0, 1);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Up&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 0, -1);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Left&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, -1, 0);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Right&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 1, 0);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Prior&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, -1, -1);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Next&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 1, 1);</div>
<div class="line">     }</div>
<div class="line">   <span class="comment">// adjusting the perspective focal point distance</span></div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;KP_Add&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    app-&gt;focal += 5;</div>
<div class="line">    <a class="code" href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a>(app-&gt;ps, 240, 160, 0, app-&gt;focal);</div>
<div class="line">    <a class="code" href="Edje_8h.html#af699be7f8a8ea7bbbc24f4d930997449">edje_object_calc_force</a>(app-&gt;edje_obj);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;KP_Subtract&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    app-&gt;focal -= 5;</div>
<div class="line">    <span class="keywordflow">if</span> (app-&gt;focal &lt; 5)</div>
<div class="line">      app-&gt;focal = 5;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a>(app-&gt;ps, 240, 160, 0, app-&gt;focal);</div>
<div class="line">    <a class="code" href="Edje_8h.html#af699be7f8a8ea7bbbc24f4d930997449">edje_object_calc_force</a>(app-&gt;edje_obj);</div>
<div class="line">     }</div>
<div class="line">   <span class="comment">// exiting</span></div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Escape&quot;</span>))</div>
<div class="line">     ecore_main_loop_quit();</div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;unhandled key: %s\n&quot;</span>, ev-&gt;keyname);</div>
<div class="ttc" id="aEdje_8h_html_af699be7f8a8ea7bbbc24f4d930997449"><div class="ttname"><a href="Edje_8h.html#af699be7f8a8ea7bbbc24f4d930997449">edje_object_calc_force</a></div><div class="ttdeci">EAPI void edje_object_calc_force(Evas_Object *obj)</div><div class="ttdoc">Force a Size/Geometry calculation.</div><div class="ttdef"><b>Definition:</b> edje_util.c:2926</div></div>
<div class="line">        fprintf(stdout, commands);</div>
<div class="line">     }</div>
</div><!-- fragment --><p> Notice that we also do something else when the numeric keyboard "+" and "-" keys are pressed. We change the focal distance of our global perspective, and that will affect the part that has a map rotation applied to it, with perspective enabled. We also need to call <a class="el" href="Edje_8h.html#af699be7f8a8ea7bbbc24f4d930997449" title="Force a Size/Geometry calculation.">edje_object_calc_force()</a>, otherwise the Edje object has no way to know that we changed the global perspective.</p>
<p>Try playing with these keys and see what happens to the animation when the value of the focal distance changes.</p>
<p>Finally we add a callback for the animation ended signal:</p>
<div class="fragment"><div class="line">_animation_end_cb(<span class="keywordtype">void</span> *data, Evas_Object *o __UNUSED__, <span class="keyword">const</span> <span class="keywordtype">char</span> *emission __UNUSED__, <span class="keyword">const</span> <span class="keywordtype">char</span> *source __UNUSED__)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>_App *app = data;</div>
<div class="line"> </div>
<div class="line">   app-&gt;animating = EINA_FALSE;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The example's window should look like this picture:</p>
<div class="image">
<img src="edje-perspective-example.png" alt=""/>
</div>
  <p>The full source code follows: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef HAVE_CONFIG_H</span></div>
<div class="line"><span class="preprocessor"># include &quot;config.h&quot;</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"># define __UNUSED__</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Ecore.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Ecore_Evas.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Edje_8h.html">Edje.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define WIDTH  480</span></div>
<div class="line"><span class="preprocessor">#define HEIGHT 320</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> commands[] = \</div>
<div class="line">  <span class="stringliteral">&quot;commands are:\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tDown - move part down\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tUp -  move part up\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tLeft - move part left\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tRight - move part right\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tPrior - move part up-left\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tNext - move part down-right\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tInsert - increase focal\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tSuppr - decrease focal\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\tEsc - exit\n&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;\th - print help\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>_App {</div>
<div class="line">    Evas_Object *edje_obj;</div>
<div class="line">    Evas_Object *bg;</div>
<div class="line">    <a class="code" href="struct__Edje__Perspective.html">Edje_Perspective</a> *ps;</div>
<div class="line">    Eina_Bool animating;</div>
<div class="line">    <span class="keywordtype">int</span> x, y; <span class="comment">// relative position of part in the screen</span></div>
<div class="line">    <span class="keywordtype">int</span> focal;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_on_destroy(Ecore_Evas *ee __UNUSED__)</div>
<div class="line">{</div>
<div class="line">   ecore_main_loop_quit();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* here just to keep our example&#39;s window size and background image&#39;s</span></div>
<div class="line"><span class="comment"> * size in synchrony */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_on_canvas_resize(Ecore_Evas *ee)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">int</span> w, h;</div>
<div class="line">   <span class="keyword">struct </span>_App *app = ecore_evas_data_get(ee, <span class="stringliteral">&quot;app&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   ecore_evas_geometry_get(ee, NULL, NULL, &amp;w, &amp;h);</div>
<div class="line">   evas_object_resize(app-&gt;bg, w, h);</div>
<div class="line">   evas_object_resize(app-&gt;edje_obj, w, h);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_part_move(<span class="keyword">struct</span> _App *app, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span> emission[64];</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;animating)</div>
<div class="line">     <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">   app-&gt;x += dx;</div>
<div class="line">   app-&gt;y += dy;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;x &gt; 1)</div>
<div class="line">     app-&gt;x = 1;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;x &lt; 0)</div>
<div class="line">     app-&gt;x = 0;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;y &gt; 1)</div>
<div class="line">     app-&gt;y = 1;</div>
<div class="line">   <span class="keywordflow">if</span> (app-&gt;y &lt; 0)</div>
<div class="line">     app-&gt;y = 0;</div>
<div class="line"> </div>
<div class="line">   snprintf(emission, <span class="keyword">sizeof</span>(emission), <span class="stringliteral">&quot;move,%d,%d&quot;</span>, app-&gt;x, app-&gt;y);</div>
<div class="line">   <a class="code" href="Edje_8h.html#a700d424448139fa85a09906b67dbd62c">edje_object_signal_emit</a>(app-&gt;edje_obj, emission, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">   app-&gt;animating = EINA_TRUE;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_on_bg_key_down(<span class="keywordtype">void</span> *data, Evas *e __UNUSED__, Evas_Object *o __UNUSED__, <span class="keywordtype">void</span> *event_info)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>_App *app = data;</div>
<div class="line">   Evas_Event_Key_Down *ev = event_info;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;h&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">        fprintf(stdout, commands);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">     }</div>
<div class="line">   <span class="comment">// just moving the part and text</span></div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Down&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 0, 1);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Up&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 0, -1);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Left&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, -1, 0);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Right&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 1, 0);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Prior&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, -1, -1);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Next&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    _part_move(app, 1, 1);</div>
<div class="line">     }</div>
<div class="line">   <span class="comment">// adjusting the perspective focal point distance</span></div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;KP_Add&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    app-&gt;focal += 5;</div>
<div class="line">    <a class="code" href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a>(app-&gt;ps, 240, 160, 0, app-&gt;focal);</div>
<div class="line">    <a class="code" href="Edje_8h.html#af699be7f8a8ea7bbbc24f4d930997449">edje_object_calc_force</a>(app-&gt;edje_obj);</div>
<div class="line">     }</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;KP_Subtract&quot;</span>))</div>
<div class="line">     {</div>
<div class="line">    app-&gt;focal -= 5;</div>
<div class="line">    <span class="keywordflow">if</span> (app-&gt;focal &lt; 5)</div>
<div class="line">      app-&gt;focal = 5;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a>(app-&gt;ps, 240, 160, 0, app-&gt;focal);</div>
<div class="line">    <a class="code" href="Edje_8h.html#af699be7f8a8ea7bbbc24f4d930997449">edje_object_calc_force</a>(app-&gt;edje_obj);</div>
<div class="line">     }</div>
<div class="line">   <span class="comment">// exiting</span></div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(ev-&gt;keyname, <span class="stringliteral">&quot;Escape&quot;</span>))</div>
<div class="line">     ecore_main_loop_quit();</div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">     {</div>
<div class="line">        printf(<span class="stringliteral">&quot;unhandled key: %s\n&quot;</span>, ev-&gt;keyname);</div>
<div class="line">        fprintf(stdout, commands);</div>
<div class="line">     }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">_animation_end_cb(<span class="keywordtype">void</span> *data, Evas_Object *o __UNUSED__, <span class="keyword">const</span> <span class="keywordtype">char</span> *emission __UNUSED__, <span class="keyword">const</span> <span class="keywordtype">char</span> *source __UNUSED__)</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">struct </span>_App *app = data;</div>
<div class="line"> </div>
<div class="line">   app-&gt;animating = EINA_FALSE;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc __UNUSED__, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">   <span class="keywordtype">char</span>         edje_file_path[PATH_MAX];</div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span>  *edje_file = <span class="stringliteral">&quot;perspective.edj&quot;</span>;</div>
<div class="line">   <span class="keyword">struct </span>_App  app;</div>
<div class="line">   Ecore_Evas  *ee;</div>
<div class="line">   Evas        *evas;</div>
<div class="line">   Eina_Prefix *pfx;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!ecore_evas_init())</div>
<div class="line">     <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (!<a class="code" href="Edje_8h.html#a18ea124be2b5f786aff0f2c3ba87883e">edje_init</a>())</div>
<div class="line">     <span class="keywordflow">goto</span> shutdown_ecore_evas;</div>
<div class="line"> </div>
<div class="line">   pfx = eina_prefix_new(argv[0], main,</div>
<div class="line">                         <span class="stringliteral">&quot;EDJE_EXAMPLES&quot;</span>,</div>
<div class="line">                         <span class="stringliteral">&quot;edje/examples&quot;</span>,</div>
<div class="line">                         edje_file,</div>
<div class="line">                         PACKAGE_BIN_DIR,</div>
<div class="line">                         PACKAGE_LIB_DIR,</div>
<div class="line">                         PACKAGE_DATA_DIR,</div>
<div class="line">                         PACKAGE_DATA_DIR);</div>
<div class="line">   <span class="keywordflow">if</span> (!pfx)</div>
<div class="line">     <span class="keywordflow">goto</span> shutdown_edje;</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="Edje_8h.html#af0f430696a6e26a5cd0c3c3eeda129c7">edje_frametime_set</a>(1.0 / 60.0);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">/* this will give you a window with an Evas canvas under the first</span></div>
<div class="line"><span class="comment">    * engine available */</span></div>
<div class="line">   app.animating = EINA_FALSE;</div>
<div class="line">   app.x = 0;</div>
<div class="line">   app.y = 0;</div>
<div class="line">   app.focal = 50;</div>
<div class="line"> </div>
<div class="line">   ee = ecore_evas_new(NULL, 0, 0, WIDTH, HEIGHT, NULL);</div>
<div class="line">   <span class="keywordflow">if</span> (!ee)</div>
<div class="line">     <span class="keywordflow">goto</span> free_prefix;</div>
<div class="line"> </div>
<div class="line">   ecore_evas_callback_destroy_set(ee, _on_destroy);</div>
<div class="line">   ecore_evas_callback_resize_set(ee, _on_canvas_resize);</div>
<div class="line">   ecore_evas_title_set(ee, <span class="stringliteral">&quot;Edje Box Example&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   ecore_evas_data_set(ee, <span class="stringliteral">&quot;app&quot;</span>, &amp;app);</div>
<div class="line"> </div>
<div class="line">   evas = ecore_evas_get(ee);</div>
<div class="line"> </div>
<div class="line">   app.bg = evas_object_rectangle_add(evas);</div>
<div class="line">   evas_object_color_set(app.bg, 255, 255, 255, 255);</div>
<div class="line">   evas_object_resize(app.bg, WIDTH, HEIGHT);</div>
<div class="line">   evas_object_focus_set(app.bg, EINA_TRUE);</div>
<div class="line">   evas_object_show(app.bg);</div>
<div class="line"> </div>
<div class="line">   evas_object_event_callback_add(app.bg, EVAS_CALLBACK_KEY_DOWN, _on_bg_key_down, &amp;app);</div>
<div class="line"> </div>
<div class="line">   app.edje_obj = <a class="code" href="Edje_8h.html#a8cb00e5256fd50487f0669bc3bf9b8e0">edje_object_add</a>(evas);</div>
<div class="line"> </div>
<div class="line">   snprintf(edje_file_path, <span class="keyword">sizeof</span>(edje_file_path),</div>
<div class="line">            <span class="stringliteral">&quot;%s/examples/%s&quot;</span>, eina_prefix_data_get(pfx), edje_file);</div>
<div class="line">   <a class="code" href="Edje_8h.html#ab375d28c2726ccc32165b66b64abfc0a">edje_object_file_set</a>(app.edje_obj, edje_file_path, <span class="stringliteral">&quot;example/group&quot;</span>);</div>
<div class="line">   evas_object_move(app.edje_obj, 0, 0);</div>
<div class="line">   evas_object_resize(app.edje_obj, WIDTH, HEIGHT);</div>
<div class="line">   evas_object_show(app.edje_obj);</div>
<div class="line"> </div>
<div class="line">   <a class="code" href="Edje_8h.html#a92fe0c052c9f023a29cd04d0bbd542a7">edje_object_signal_callback_add</a>(app.edje_obj, <span class="stringliteral">&quot;animation,end&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, _animation_end_cb, &amp;app);</div>
<div class="line"> </div>
<div class="line">   app.ps = <a class="code" href="Edje_8h.html#a40e24d0f8c165580d345ca2a8bf5b368">edje_perspective_new</a>(evas);</div>
<div class="line">   <a class="code" href="Edje_8h.html#ac67b6372adcf093e43334d5385a1fed9">edje_perspective_set</a>(app.ps, 240, 160, 0, app.focal);</div>
<div class="line">   <a class="code" href="Edje_8h.html#a135e2eef15d671a44374f08458f614fc">edje_perspective_global_set</a>(app.ps, EINA_TRUE);</div>
<div class="line"> </div>
<div class="line">   fprintf(stdout, commands);</div>
<div class="line"> </div>
<div class="line">   ecore_evas_show(ee);</div>
<div class="line"> </div>
<div class="line">   ecore_main_loop_begin();</div>
<div class="line"> </div>
<div class="line">   eina_prefix_free(pfx);</div>
<div class="line">   ecore_evas_free(ee);</div>
<div class="line">   ecore_evas_shutdown();</div>
<div class="line">   <a class="code" href="Edje_8h.html#af1529d06494668cf647e3160b48a0e2b">edje_shutdown</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"> </div>
<div class="line"> free_prefix:</div>
<div class="line">   eina_prefix_free(pfx);</div>
<div class="line"> shutdown_edje:</div>
<div class="line">   <a class="code" href="Edje_8h.html#af1529d06494668cf647e3160b48a0e2b">edje_shutdown</a>();</div>
<div class="line"> shutdown_ecore_evas:</div>
<div class="line">   ecore_evas_shutdown();</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line">}</div>
<div class="ttc" id="aEdje_8h_html"><div class="ttname"><a href="Edje_8h.html">Edje.h</a></div><div class="ttdoc">Edje Graphical Design Library.</div></div>
<div class="ttc" id="aEdje_8h_html_af1529d06494668cf647e3160b48a0e2b"><div class="ttname"><a href="Edje_8h.html#af1529d06494668cf647e3160b48a0e2b">edje_shutdown</a></div><div class="ttdeci">EAPI int edje_shutdown(void)</div><div class="ttdoc">Shutdown the Edje library.</div><div class="ttdef"><b>Definition:</b> edje_main.c:171</div></div>
<div class="ttc" id="astruct__Edje__Perspective_html"><div class="ttname"><a href="struct__Edje__Perspective.html">_Edje_Perspective</a></div><div class="ttdef"><b>Definition:</b> edje_private.h:223</div></div>
</div><!-- fragment --><p>The full .edc file </p><div class="fragment"><div class="line">collections {</div>
<div class="line">   group {</div>
<div class="line">      name: &quot;example/group&quot;;</div>
<div class="line"> </div>
<div class="line">      min: 480 320;</div>
<div class="line"> </div>
<div class="line">      parts {</div>
<div class="line">         part {</div>
<div class="line">            name: &quot;bg&quot;;</div>
<div class="line">            type: RECT;</div>
<div class="line">            mouse_events: 1;</div>
<div class="line"> </div>
<div class="line">            description {</div>
<div class="line">               state: &quot;default&quot; 0.0;</div>
<div class="line">            }</div>
<div class="line">         } // bg</div>
<div class="line"> </div>
<div class="line">         part {</div>
<div class="line">            name: &quot;rectangle&quot;;</div>
<div class="line">            type: RECT;</div>
<div class="line">            mouse_events: 0;</div>
<div class="line"> </div>
<div class="line">            description {</div>
<div class="line">               state: &quot;default&quot; 0.0;</div>
<div class="line">               color: 255 0 0 128;</div>
<div class="line"> </div>
<div class="line">               rel1 {</div>
<div class="line">                  offset: -5 -5;</div>
<div class="line">                  to: &quot;title&quot;;</div>
<div class="line">               }</div>
<div class="line">               rel2 {</div>
<div class="line">                  offset: 4 4;</div>
<div class="line">                  to: &quot;title&quot;;</div>
<div class="line">               }</div>
<div class="line"> </div>
<div class="line">               map {</div>
<div class="line">                  on: 1;</div>
<div class="line">                  perspective_on: 1;</div>
<div class="line">                  rotation {</div>
<div class="line">                     x: 45;</div>
<div class="line">                  }</div>
<div class="line">               }</div>
<div class="line">            }</div>
<div class="line">         } // rectangle</div>
<div class="line"> </div>
<div class="line">         part {</div>
<div class="line">            name: &quot;title&quot;;</div>
<div class="line">            type: TEXT;</div>
<div class="line">            mouse_events: 0;</div>
<div class="line"> </div>
<div class="line">            description {</div>
<div class="line">               state: &quot;default&quot; 0.0;</div>
<div class="line">               color: 200 200 200 255;</div>
<div class="line"> </div>
<div class="line">               align: 0.0 0.5;</div>
<div class="line"> </div>
<div class="line">               rel1.relative: 0.1 0.1;</div>
<div class="line">               rel2.relative: 0.1 0.1;</div>
<div class="line"> </div>
<div class="line">               text {</div>
<div class="line">                  text: &quot;Perspective example&quot;;</div>
<div class="line">                  font: &quot;Sans&quot;;</div>
<div class="line">                  size: 16;</div>
<div class="line">                  min: 1 1;</div>
<div class="line">               }</div>
<div class="line"> </div>
<div class="line">               map {</div>
<div class="line">                  on: 1;</div>
<div class="line">                  perspective_on: 1;</div>
<div class="line">                  rotation {</div>
<div class="line">                     x: 45;</div>
<div class="line">                  }</div>
<div class="line">               }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            description {</div>
<div class="line">               state: &quot;right&quot; 0.0;</div>
<div class="line">               inherit: &quot;default&quot; 0.0;</div>
<div class="line"> </div>
<div class="line">               rel1.relative: 0.5 0.1;</div>
<div class="line">               rel2.relative: 0.5 0.1;</div>
<div class="line">            }</div>
<div class="line">            description {</div>
<div class="line">               state: &quot;bottom&quot; 0.0;</div>
<div class="line">               inherit: &quot;default&quot; 0.0;</div>
<div class="line"> </div>
<div class="line">               rel1.relative: 0.1 0.9;</div>
<div class="line">               rel2.relative: 0.1 0.9;</div>
<div class="line">            }</div>
<div class="line">            description {</div>
<div class="line">               state: &quot;bottomright&quot; 0.0;</div>
<div class="line">               inherit: &quot;default&quot; 0.0;</div>
<div class="line"> </div>
<div class="line">               rel1.relative: 0.5 0.9;</div>
<div class="line">               rel2.relative: 0.5 0.9;</div>
<div class="line">            }</div>
<div class="line">         } // title</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      programs {</div>
<div class="line">         program {</div>
<div class="line">            name: &quot;move,right&quot;;</div>
<div class="line">            signal: &quot;move,1,0&quot;;</div>
<div class="line">            action: STATE_SET &quot;right&quot; 0.0;</div>
<div class="line">            transition: SINUSOIDAL 1.0;</div>
<div class="line">            target: &quot;title&quot;;</div>
<div class="line">            after: &quot;animation,end&quot;;</div>
<div class="line">         }</div>
<div class="line">         program {</div>
<div class="line">            name: &quot;move,bottom&quot;;</div>
<div class="line">            signal: &quot;move,0,1&quot;;</div>
<div class="line">            action: STATE_SET &quot;bottom&quot; 0.0;</div>
<div class="line">            transition: SINUSOIDAL 1.0;</div>
<div class="line">            target: &quot;title&quot;;</div>
<div class="line">            after: &quot;animation,end&quot;;</div>
<div class="line">         }</div>
<div class="line">         program {</div>
<div class="line">            name: &quot;move,bottomright&quot;;</div>
<div class="line">            signal: &quot;move,1,1&quot;;</div>
<div class="line">            action: STATE_SET &quot;bottomright&quot; 0.0;</div>
<div class="line">            transition: SINUSOIDAL 1.0;</div>
<div class="line">            target: &quot;title&quot;;</div>
<div class="line">            after: &quot;animation,end&quot;;</div>
<div class="line">         }</div>
<div class="line">         program {</div>
<div class="line">            name: &quot;move,default&quot;;</div>
<div class="line">            signal: &quot;move,0,0&quot;;</div>
<div class="line">            action: STATE_SET &quot;default&quot; 0.0;</div>
<div class="line">            transition: SINUSOIDAL 1.0;</div>
<div class="line">            target: &quot;title&quot;;</div>
<div class="line">            after: &quot;animation,end&quot;;</div>
<div class="line">         }</div>
<div class="line"> </div>
<div class="line">         program {</div>
<div class="line">            name: &quot;animation,end&quot;;</div>
<div class="line">            action: SIGNAL_EMIT &quot;animation,end&quot; &quot;&quot;;</div>
<div class="line">         }</div>
<div class="line">      }</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><p>To compile use this command: </p><pre class="fragment">* gcc -o edje-perspective edje-perspective.c -DPACKAGE_BIN_DIR=\"/Where/enlightenment/is/installed/bin\"
* -DPACKAGE_LIB_DIR=\"/Where/enlightenment/is/installed/lib\"
* -DPACKAGE_DATA_DIR=\"/Where/enlightenment/is/installed/share\"
* `pkg-config --cflags --libs evas ecore ecore-evas edje`
*
* edje_cc perspective.edc
* </pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
 
 <div id="push"></div>
 </div> <!-- #content -->
  </div> <!-- .layout -->
 </div> <!-- #container -->
  <div id="footer">
    <table><tr>
      <td class="copyright">Copyright &copy;2013 Enlightenment</td>
      <td class="generated">Docs generated Tue Nov 5 2013 19:12:59</td>
    </tr></table>
  </div>
</body>
</html>

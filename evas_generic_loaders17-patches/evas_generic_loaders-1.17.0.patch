diff --git a/src/bin/pdf/main.cpp b/src/bin/pdf/main.cpp
index 6b1de13..4ac573a 100644
--- a/src/bin/pdf/main.cpp
+++ b/src/bin/pdf/main.cpp
@@ -54,8 +54,9 @@ Eina_Bool poppler_init(const char *file, int page_nbr, int size_w, int size_h)
    if (page_nbr < 0)
      return EINA_FALSE;
 
-   if (!(globalParams = new GlobalParams()))
-     return EINA_FALSE;
+    globalParams = std::unique_ptr<GlobalParams>(new GlobalParams());
+    if (!globalParams)
+      return EINA_FALSE;
 
    if (!eina_init())
      goto del_global_param;
@@ -129,19 +130,19 @@ Eina_Bool poppler_init(const char *file, int page_nbr, int size_w, int size_h)
 
    return EINA_TRUE;
 
- del_pdfdoc:
-   delete pdfdoc;
- del_global_param:
-   delete globalParams;
+  del_pdfdoc:
+    delete pdfdoc;
+  del_global_param:
+    globalParams.reset();
 
    return EINA_FALSE;
 }
 
 void poppler_shutdown()
 {
-   delete pdfdoc;
-   eina_shutdown();
-   delete globalParams;
+    delete pdfdoc;
+    eina_shutdown();
+    globalParams.reset();
 }
 
 void poppler_load_image(int size_w EINA_UNUSED, int size_h EINA_UNUSED)
@@ -157,7 +158,7 @@ void poppler_load_image(int size_w EINA_UNUSED, int size_h EINA_UNUSED)
    white[2] = 255;
    white[3] = 255;
 
-   output_dev = new SplashOutputDev(splashModeXBGR8, 4, gFalse, white);
+    output_dev = new SplashOutputDev(splashModeXBGR8, 4, false, white);
    if (!output_dev)
      return;
 
@@ -206,8 +207,8 @@ void poppler_load_image(int size_w EINA_UNUSED, int size_h EINA_UNUSED)
 int
 main(int argc, char **argv)
 {
-   Eina_Tmpstr *tmpdir = NULL;
-   Eina_Tmpstr *generated = NULL;
+    char *tmpdir = NULL;
+    char *generated = NULL;
    char *extension;
    char *dir;
    char *file;
@@ -258,7 +259,8 @@ main(int argc, char **argv)
    dir = dirname(argv[0]);
    if (extension && dir && strcmp(extension, ".pdf"))
      {
-        if (eina_file_mkdtemp("evas_generic_pdf_loaderXXXXXX", &tmpdir))
+         tmpdir = mkdtemp(strdup("evas_generic_pdf_loaderXXXXXX"));
+         if (tmpdir)
           {
              Eina_Strbuf *tmp;
              FILE *cmd;
@@ -281,17 +283,17 @@ main(int argc, char **argv)
                   pclose(cmd);
 
                   filename = basename(file);
-                  generated = eina_tmpstr_add_length(filename, strlen(filename) - strlen(extension));
+                   generated = strndup(filename, strlen(filename) - strlen(extension));
 
                   eina_strbuf_append_printf(tmp, "%s/%s.pdf", tmpdir, generated);
 
-                  eina_tmpstr_del(generated);
-                  generated = NULL;
+                   free(generated);
+                   generated = NULL;
 
                   if (stat(eina_strbuf_string_get(tmp), &st) == 0)
                     {
-                       generated = eina_tmpstr_add_length(eina_strbuf_string_get(tmp),
-                                                          eina_strbuf_length_get(tmp));
+                        generated = strndup(eina_strbuf_string_get(tmp),
+                                                           eina_strbuf_length_get(tmp));
                        file = (char*) generated;
                     }
                }
@@ -345,8 +347,8 @@ main(int argc, char **argv)
         if (generated) unlink(generated);
         rmdir(tmpdir);
 
-        eina_tmpstr_del(tmpdir);
-        eina_tmpstr_del(generated);
+         free(tmpdir);
+         free(generated);
      }
    fflush(stdout);
    return 0;

diff --git a/src/bin/pdf/Makefile.am b/src/bin/pdf/Makefile.am
index 5fc4f23..2576a6a 100644
--- a/src/bin/pdf/Makefile.am
+++ b/src/bin/pdf/Makefile.am
@@ -18,6 +18,7 @@ bindir = $(libdir)/evas/utils
 evas_image_loader_pdf_SOURCES = \
 main.cpp \
 $(top_srcdir)/src/bin/common/shmfile.c
-evas_image_loader_pdf_CFLAGS =
+evas_image_loader_pdf_CFLAGS = -fno-lto
+evas_image_loader_pdf_CXXFLAGS = -fno-lto
 evas_image_loader_pdf_LDADD = @POPPLER_LIBS@ @EINA_LIBS@ @SHM_OPEN_LIBS@
 evas_image_loader_pdf_LDFLAGS =
diff --git a/src/bin/pdf/main.cpp b/src/bin/pdf/main.cpp
index 7e03f4f..08247cf 100644
--- a/src/bin/pdf/main.cpp
+++ b/src/bin/pdf/main.cpp
@@ -7,7 +7,9 @@
 
 #include <memory>
 
+#ifndef HAVE_POPPLER_020
 #include <GlobalParams.h>
+#endif
 #include <PDFDoc.h>
 #include <ErrorCodes.h>
 #include <Page.h>
@@ -29,6 +31,9 @@
 #endif
 
 
+#ifndef HAVE_POPPLER_020
+extern GlobalParams *globalParams;
+#endif
 PDFDoc *pdfdoc;
 bool locked = false;
 SplashOutputDev *output_dev;
@@ -51,17 +56,19 @@ Eina_Bool poppler_init(const char *file, int page_nbr, int size_w, int size_h)
    if (!file || !*file)
      return EINA_FALSE;
 
-   if (page_nbr < 0)
-     return EINA_FALSE;
+    if (page_nbr < 0)
+      return EINA_FALSE;
 
-    globalParams = std::make_unique<GlobalParams>();
+#ifndef HAVE_POPPLER_020
+     globalParams = std::make_unique<GlobalParams>();
+#endif
 
-   if (!eina_init())
-     goto del_global_param;
+    if (!eina_init())
+      goto del_global_param;
 
     // antialias is enabled by default in poppler
 
-   pdfdoc = new PDFDoc(new GooString(file), NULL);
+    pdfdoc = new PDFDoc(std::unique_ptr<GooString>(new GooString(file)), std::nullopt, std::nullopt, nullptr);
    if (!pdfdoc)
      goto del_global_param;
 
